import{r as s,j as y,R as ae,a as Ai,b as Ni}from"./app-DNO51zag.js";import{r as Oe,P as se,u as Fe,c as ie,d as _i,a as me,b as os,R as Bi,e as zi,f as hr,g as An,h as Ui,C as Fi,i as $i,B as gr}from"./index-Z71crN0z.js";import{c as Ee,a as $e,u as ue,b as Wi,B as De,M as mr}from"./button-DAvywSak.js";import{I as vr}from"./input-DeZ2wcjw.js";/* empty css            */function dt(t){"@babel/helpers - typeof";return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(t)}function Hi(t,e){if(dt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vi(t){var e=Hi(t,"string");return dt(e)=="symbol"?e:e+""}function P(t,e,n){return(e=Vi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var an,yr;function Zi(){if(yr)return an;yr=1;var t=function(n,r,o,i,a,l,c,u){if(!n){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[o,i,a,l,c,u],g=0;d=new Error(r.replace(/%s/g,function(){return f[g++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return an=t,an}var Gi=Zi(),le=ss(Gi),Y=s.createContext(null);function Ki(){le(!!s.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=s.useContext(Y);return le(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function qi(t,e,n){return Object.keys(t).reduce(function(o,i){return e(o,t[i],i)},n)}function Yi(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function Xi(t,e,n,r){var o={},i=(a,l)=>{var c=n[l];c!==e[l]&&(o[l]=c,a(r,c))};return Yi(t,i),o}function Ji(t,e,n){var r=qi(n,function(i,a,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,a,t[l])),i},[]);return r}function Qi(t){google.maps.event.removeListener(t)}function Q(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(Qi)}function J(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:o,instance:i}=t,a=Ji(o,i,n);return Xi(e,r,o,i),a}var br={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},wr={extraMapTypes(t,e){e.forEach(function(r,o){t.mapTypes.set(String(o),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function ea(t){var{children:e,options:n,id:r,mapContainerStyle:o,mapContainerClassName:i,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:f,onMouseMove:g,onMouseOut:m,onMouseOver:p,onMouseDown:h,onMouseUp:v,onRightClick:L,onCenterChanged:b,onLoad:E,onUnmount:x}=t,[w,S]=s.useState(null),C=s.useRef(null),[j,M]=s.useState(null),[R,T]=s.useState(null),[U,$]=s.useState(null),[_,F]=s.useState(null),[k,D]=s.useState(null),[I,A]=s.useState(null),[z,Z]=s.useState(null),[G,H]=s.useState(null),[K,O]=s.useState(null),[ee,B]=s.useState(null),[W,X]=s.useState(null),[N,V]=s.useState(null);return s.useEffect(()=>{n&&w!==null&&w.setOptions(n)},[w,n]),s.useEffect(()=>{w!==null&&typeof a<"u"&&w.setCenter(a)},[w,a]),s.useEffect(()=>{w&&c&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(w,"dblclick",c)))},[c]),s.useEffect(()=>{w&&d&&(U!==null&&google.maps.event.removeListener(U),$(google.maps.event.addListener(w,"dragend",d)))},[d]),s.useEffect(()=>{w&&f&&(_!==null&&google.maps.event.removeListener(_),F(google.maps.event.addListener(w,"dragstart",f)))},[f]),s.useEffect(()=>{w&&h&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(w,"mousedown",h)))},[h]),s.useEffect(()=>{w&&g&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(w,"mousemove",g)))},[g]),s.useEffect(()=>{w&&m&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(w,"mouseout",m)))},[m]),s.useEffect(()=>{w&&p&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(w,"mouseover",p)))},[p]),s.useEffect(()=>{w&&v&&(K!==null&&google.maps.event.removeListener(K),O(google.maps.event.addListener(w,"mouseup",v)))},[v]),s.useEffect(()=>{w&&L&&(ee!==null&&google.maps.event.removeListener(ee),B(google.maps.event.addListener(w,"rightclick",L)))},[L]),s.useEffect(()=>{w&&l&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(w,"click",l)))},[l]),s.useEffect(()=>{w&&u&&(N!==null&&google.maps.event.removeListener(N),V(google.maps.event.addListener(w,"drag",u)))},[u]),s.useEffect(()=>{w&&b&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(w,"center_changed",b)))},[l]),s.useEffect(()=>{var te=C.current===null?null:new google.maps.Map(C.current,n);return S(te),te!==null&&E&&E(te),()=>{te!==null&&x&&x(te)}},[]),y.jsx("div",{id:r,ref:C,style:o,className:i,children:y.jsx(Y.Provider,{value:w,children:w!==null?e:null})})}s.memo(ea);class ta extends s.PureComponent{constructor(){super(...arguments),P(this,"state",{map:null}),P(this,"registeredEvents",[]),P(this,"mapRef",null),P(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),P(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),P(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),P(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=J({updaterMap:wr,eventMap:br,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:wr,eventMap:br,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Q(this.registeredEvents))}render(){return y.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:y.jsx(Y.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Lr(t,e,n,r,o,i,a){try{var l=t[i](a),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,o)}function is(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(c){Lr(i,r,o,a,l,"next",c)}function l(c){Lr(i,r,o,a,l,"throw",c)}a(void 0)})}}function as(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:o,region:i,libraries:a,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:d="https://maps.googleapis.com"}=t,f=[];return le(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),o&&f.push("language=".concat(o)),i&&f.push("region=".concat(i)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),l&&f.push("channel=".concat(l)),c&&c.length&&f.push("map_ids=".concat(c.join(","))),u&&f.push("auth_referrer_policy=".concat(u)),f.push("loading=async"),f.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(f.join("&"))}var Te=typeof document<"u";function ls(t){var{url:e,id:n,nonce:r}=t;return Te?new Promise(function(i,a){var l=document.getElementById(n),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(n);var d=c.initMap,f=l.onerror;c.initMap=function(){d&&d(),i(n)},l.onerror=function(m){f&&f(m),a(m)};return}else l.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=e,g.id=n,g.async=!0,g.nonce=r||"",g.onerror=function(p){g.setAttribute("data-state","error"),a(p)},c.initMap=function(){g.setAttribute("data-state","ready"),i(n)},document.head.appendChild(g)}).catch(o=>{throw console.error("injectScript error: ",o),o}):Promise.reject(new Error("document is undefined"))}function xr(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Nn(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(o,i){return xr(o)||Reflect.apply(e,t,[o,i]),o};var n=t.appendChild.bind(t);t.appendChild=function(o){return xr(o)||Reflect.apply(n,t,[o]),o}}}var it=!1;function cs(){return y.jsx("div",{children:"Loading..."})}var ft={id:"script-loader",version:"weekly"};class na extends s.PureComponent{constructor(){super(...arguments),P(this,"check",null),P(this,"state",{loaded:!1}),P(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),P(this,"isCleaningUp",is(function*(){function e(n){if(!it)n();else if(Te)var r=window.setInterval(function(){it||(window.clearInterval(r),n())},1)}return new Promise(e)})),P(this,"cleanup",()=>{it=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),P(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Nn(),le(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:as(this.props)};ls(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),P(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Te){if(window.google&&window.google.maps&&!it){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Te&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Te){this.cleanup();var e=()=>{this.check||(delete window.google,it=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||y.jsx(cs,{})]})}}P(na,"defaultProps",ft);function ra(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _n(t,e){if(t==null)return{};var n,r,o=ra(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Cr;function oa(t){var{id:e=ft.id,version:n=ft.version,nonce:r,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:f,authReferrerPolicy:g,apiUrl:m="https://maps.googleapis.com"}=t,p=s.useRef(!1),[h,v]=s.useState(!1),[L,b]=s.useState(void 0);s.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),s.useEffect(function(){Te&&u&&Nn()},[u]),s.useEffect(function(){h&&le(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[h]);var E=as({version:n,googleMapsApiKey:o,googleMapsClientId:i,language:a,region:l,libraries:c,channel:d,mapIds:f,authReferrerPolicy:g,apiUrl:m});s.useEffect(function(){if(!Te)return;function S(){p.current&&(v(!0),Cr=E)}if(window.google&&window.google.maps&&Cr===E){S();return}ls({id:e,url:E,nonce:r}).then(S).catch(function(j){p.current&&b(j),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(j)})},[e,E,r]);var x=s.useRef(void 0);return s.useEffect(function(){x.current&&c!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=c},[c]),{isLoaded:h,loadError:L,url:E}}var sa=["loadingElement","onLoad","onError","onUnmount","children"],ia=y.jsx(cs,{});function aa(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:o,children:i}=t,a=_n(t,sa),{isLoaded:l,loadError:c}=oa(a);return s.useEffect(function(){l&&typeof n=="function"&&n()},[l,n]),s.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),s.useEffect(function(){return()=>{o&&o()}},[o]),l?i:e||ia}s.memo(aa);function la(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):o(d.value).then(l,c)}u((r=r.apply(t,[])).next())})}function ca(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ua=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},da=ca(ua),Er="__googleMapsScriptId",Ye;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ye||(Ye={}));class Ue{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:o,client:i,id:a=Er,language:l,libraries:c=[],mapIds:u,nonce:d,region:f,retries:g=3,url:m="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=o,this.client=i,this.id=a||Er,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=d,this.region=f,this.retries=g,this.url=m,this.version=p,Ue.instance){if(!da(this.options,Ue.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(Ue.instance.options)));return Ue.instance}Ue.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ye.FAILURE:this.done?Ye.SUCCESS:this.loading?Ye.LOADING:Ye.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,l,c,u="The Google Maps JavaScript API",d="google",f="importLibrary",g="__ib__",m=document,p=window;p=p[d]||(p[d]={});var h=p.maps||(p.maps={}),v=new Set,L=new URLSearchParams,b=()=>a||(a=new Promise((E,x)=>la(this,void 0,void 0,function*(){var w;yield l=m.createElement("script"),l.id=this.id,L.set("libraries",[...v]+"");for(c in i)L.set(c.replace(/[A-Z]/g,S=>"_"+S[0].toLowerCase()),i[c]);L.set("callback",d+".maps."+g),l.src=this.url+"?"+L,h[g]=E,l.onerror=()=>a=x(Error(u+" could not load.")),l.nonce=this.nonce||((w=m.querySelector("script[nonce]"))===null||w===void 0?void 0:w.nonce)||"",m.head.append(l)})));h[f]?console.warn(u+" only loads once. Ignoring:",i):h[f]=function(E){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];return v.add(E)&&b().then(()=>h[f](E,...w))}})(r);var o=this.libraries.map(i=>this.importLibrary(i));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var fa=["maps"];function pa(t){var{id:e=ft.id,version:n=ft.version,nonce:r,googleMapsApiKey:o,language:i,region:a,libraries:l=fa,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:d}=t,f=s.useRef(!1),[g,m]=s.useState(!1),[p,h]=s.useState(void 0);s.useEffect(function(){return f.current=!0,()=>{f.current=!1}},[]);var v=s.useMemo(()=>new Ue({id:e,apiKey:o,version:n,libraries:l,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:d||"origin"}),[e,o,n,l,i,a,u,r,d]);s.useEffect(function(){g||v.load().then(()=>{f.current&&m(!0)}).catch(E=>{h(E)})},[]),s.useEffect(()=>{Te&&c&&Nn()},[c]);var L=s.useRef();return s.useEffect(()=>{L.current&&l!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=l},[l]),{isLoaded:g,loadError:p}}function Sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mr={},Pr={options(t,e){t.setOptions(e)}};function ha(t){var{options:e,onLoad:n,onUnmount:r}=t,o=s.useContext(Y),[i,a]=s.useState(null);return s.useEffect(()=>{i!==null&&i.setMap(o)},[o]),s.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),s.useEffect(()=>{var l=new google.maps.TrafficLayer(zt(zt({},e),{},{map:o}));return a(l),n&&n(l),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}s.memo(ha);class ga extends s.PureComponent{constructor(){super(...arguments),P(this,"state",{trafficLayer:null}),P(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),P(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(zt(zt({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:Pr,eventMap:Mr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Pr,eventMap:Mr,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Q(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}P(ga,"contextType",Y);function ma(t){var{onLoad:e,onUnmount:n}=t,r=s.useContext(Y),[o,i]=s.useState(null);return s.useEffect(()=>{o!==null&&o.setMap(r)},[r]),s.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}s.memo(ma);class va extends s.PureComponent{constructor(){super(...arguments),P(this,"state",{bicyclingLayer:null}),P(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}P(va,"contextType",Y);function ya(t){var{onLoad:e,onUnmount:n}=t,r=s.useContext(Y),[o,i]=s.useState(null);return s.useEffect(()=>{o!==null&&o.setMap(r)},[r]),s.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}s.memo(ya);class ba extends s.PureComponent{constructor(){super(...arguments),P(this,"state",{transitLayer:null}),P(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}P(ba,"contextType",Y);function Or(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Or(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kr={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Dr={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function wa(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:o,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:d}=t,f=s.useContext(Y),[g,m]=s.useState(null),[p,h]=s.useState(null),[v,L]=s.useState(null),[b,E]=s.useState(null),[x,w]=s.useState(null),[S,C]=s.useState(null),[j,M]=s.useState(null);return s.useEffect(()=>{g!==null&&g.setMap(f)},[f]),s.useEffect(()=>{e&&g!==null&&g.setOptions(e)},[g,e]),s.useEffect(()=>{g!==null&&g.setDrawingMode(n??null)},[g,n]),s.useEffect(()=>{g&&r&&(p!==null&&google.maps.event.removeListener(p),h(google.maps.event.addListener(g,"circlecomplete",r)))},[g,r]),s.useEffect(()=>{g&&o&&(v!==null&&google.maps.event.removeListener(v),L(google.maps.event.addListener(g,"markercomplete",o)))},[g,o]),s.useEffect(()=>{g&&i&&(b!==null&&google.maps.event.removeListener(b),E(google.maps.event.addListener(g,"overlaycomplete",i)))},[g,i]),s.useEffect(()=>{g&&a&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(g,"polygoncomplete",a)))},[g,a]),s.useEffect(()=>{g&&l&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"polylinecomplete",l)))},[g,l]),s.useEffect(()=>{g&&c&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(g,"rectanglecomplete",c)))},[g,c]),s.useEffect(()=>{le(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(Ut(Ut({},e),{},{map:f}));return n&&R.setDrawingMode(n),r&&h(google.maps.event.addListener(R,"circlecomplete",r)),o&&L(google.maps.event.addListener(R,"markercomplete",o)),i&&E(google.maps.event.addListener(R,"overlaycomplete",i)),a&&w(google.maps.event.addListener(R,"polygoncomplete",a)),l&&C(google.maps.event.addListener(R,"polylinecomplete",l)),c&&M(google.maps.event.addListener(R,"rectanglecomplete",c)),m(R),u&&u(R),()=>{g!==null&&(p&&google.maps.event.removeListener(p),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),d&&d(g),g.setMap(null))}},[]),null}s.memo(wa);class La extends s.PureComponent{constructor(e){super(e),P(this,"registeredEvents",[]),P(this,"state",{drawingManager:null}),P(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),le(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ut(Ut({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:Dr,eventMap:kr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Dr,eventMap:kr,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Q(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}P(La,"contextType",Y);function Ir(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ir(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jr={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Rr={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Ft={};function xa(t){var{position:e,options:n,clusterer:r,noClustererRedraw:o,children:i,draggable:a,visible:l,animation:c,clickable:u,cursor:d,icon:f,label:g,opacity:m,shape:p,title:h,zIndex:v,onClick:L,onDblClick:b,onDrag:E,onDragEnd:x,onDragStart:w,onMouseOut:S,onMouseOver:C,onMouseUp:j,onMouseDown:M,onRightClick:R,onClickableChanged:T,onCursorChanged:U,onAnimationChanged:$,onDraggableChanged:_,onFlatChanged:F,onIconChanged:k,onPositionChanged:D,onShapeChanged:I,onTitleChanged:A,onVisibleChanged:z,onZindexChanged:Z,onLoad:G,onUnmount:H}=t,K=s.useContext(Y),[O,ee]=s.useState(null),[B,W]=s.useState(null),[X,N]=s.useState(null),[V,te]=s.useState(null),[oe,de]=s.useState(null),[ne,Ze]=s.useState(null),[ke,Yn]=s.useState(null),[mt,Xn]=s.useState(null),[vt,Jn]=s.useState(null),[yt,Qn]=s.useState(null),[er,tr]=s.useState(null),[bt,nr]=s.useState(null),[wt,rr]=s.useState(null),[Lt,or]=s.useState(null),[xt,sr]=s.useState(null),[Ct,ir]=s.useState(null),[Et,ar]=s.useState(null),[St,lr]=s.useState(null),[cr,ur]=s.useState(null),[Mt,dr]=s.useState(null),[Pt,fr]=s.useState(null),[Ot,pr]=s.useState(null);s.useEffect(()=>{O!==null&&O.setMap(K)},[K]),s.useEffect(()=>{typeof n<"u"&&O!==null&&O.setOptions(n)},[O,n]),s.useEffect(()=>{typeof a<"u"&&O!==null&&O.setDraggable(a)},[O,a]),s.useEffect(()=>{e&&O!==null&&O.setPosition(e)},[O,e]),s.useEffect(()=>{typeof l<"u"&&O!==null&&O.setVisible(l)},[O,l]),s.useEffect(()=>{O?.setAnimation(c)},[O,c]),s.useEffect(()=>{O&&u!==void 0&&O.setClickable(u)},[O,u]),s.useEffect(()=>{O&&d!==void 0&&O.setCursor(d)},[O,d]),s.useEffect(()=>{O&&f!==void 0&&O.setIcon(f)},[O,f]),s.useEffect(()=>{O&&g!==void 0&&O.setLabel(g)},[O,g]),s.useEffect(()=>{O&&m!==void 0&&O.setOpacity(m)},[O,m]),s.useEffect(()=>{O&&p!==void 0&&O.setShape(p)},[O,p]),s.useEffect(()=>{O&&h!==void 0&&O.setTitle(h)},[O,h]),s.useEffect(()=>{O&&v!==void 0&&O.setZIndex(v)},[O,v]),s.useEffect(()=>{O&&b&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(O,"dblclick",b)))},[b]),s.useEffect(()=>{O&&x&&(X!==null&&google.maps.event.removeListener(X),N(google.maps.event.addListener(O,"dragend",x)))},[x]),s.useEffect(()=>{O&&w&&(V!==null&&google.maps.event.removeListener(V),te(google.maps.event.addListener(O,"dragstart",w)))},[w]),s.useEffect(()=>{O&&M&&(oe!==null&&google.maps.event.removeListener(oe),de(google.maps.event.addListener(O,"mousedown",M)))},[M]),s.useEffect(()=>{O&&S&&(ne!==null&&google.maps.event.removeListener(ne),Ze(google.maps.event.addListener(O,"mouseout",S)))},[S]),s.useEffect(()=>{O&&C&&(ke!==null&&google.maps.event.removeListener(ke),Yn(google.maps.event.addListener(O,"mouseover",C)))},[C]),s.useEffect(()=>{O&&j&&(mt!==null&&google.maps.event.removeListener(mt),Xn(google.maps.event.addListener(O,"mouseup",j)))},[j]),s.useEffect(()=>{O&&R&&(vt!==null&&google.maps.event.removeListener(vt),Jn(google.maps.event.addListener(O,"rightclick",R)))},[R]),s.useEffect(()=>{O&&L&&(yt!==null&&google.maps.event.removeListener(yt),Qn(google.maps.event.addListener(O,"click",L)))},[L]),s.useEffect(()=>{O&&E&&(er!==null&&google.maps.event.removeListener(er),tr(google.maps.event.addListener(O,"drag",E)))},[E]),s.useEffect(()=>{O&&T&&(bt!==null&&google.maps.event.removeListener(bt),nr(google.maps.event.addListener(O,"clickable_changed",T)))},[T]),s.useEffect(()=>{O&&U&&(wt!==null&&google.maps.event.removeListener(wt),rr(google.maps.event.addListener(O,"cursor_changed",U)))},[U]),s.useEffect(()=>{O&&$&&(Lt!==null&&google.maps.event.removeListener(Lt),or(google.maps.event.addListener(O,"animation_changed",$)))},[$]),s.useEffect(()=>{O&&_&&(xt!==null&&google.maps.event.removeListener(xt),sr(google.maps.event.addListener(O,"draggable_changed",_)))},[_]),s.useEffect(()=>{O&&F&&(Ct!==null&&google.maps.event.removeListener(Ct),ir(google.maps.event.addListener(O,"flat_changed",F)))},[F]),s.useEffect(()=>{O&&k&&(Et!==null&&google.maps.event.removeListener(Et),ar(google.maps.event.addListener(O,"icon_changed",k)))},[k]),s.useEffect(()=>{O&&D&&(St!==null&&google.maps.event.removeListener(St),lr(google.maps.event.addListener(O,"position_changed",D)))},[D]),s.useEffect(()=>{O&&I&&(cr!==null&&google.maps.event.removeListener(cr),ur(google.maps.event.addListener(O,"shape_changed",I)))},[I]),s.useEffect(()=>{O&&A&&(Mt!==null&&google.maps.event.removeListener(Mt),dr(google.maps.event.addListener(O,"title_changed",A)))},[A]),s.useEffect(()=>{O&&z&&(Pt!==null&&google.maps.event.removeListener(Pt),fr(google.maps.event.addListener(O,"visible_changed",z)))},[z]),s.useEffect(()=>{O&&Z&&(Ot!==null&&google.maps.event.removeListener(Ot),pr(google.maps.event.addListener(O,"zindex_changed",Z)))},[Z]),s.useEffect(()=>{var st=Xe(Xe(Xe({},n||Ft),r?Ft:{map:K}),{},{position:e}),q=new google.maps.Marker(st);return r?r.addMarker(q,!!o):q.setMap(K),e&&q.setPosition(e),typeof l<"u"&&q.setVisible(l),typeof a<"u"&&q.setDraggable(a),typeof u<"u"&&q.setClickable(u),typeof d=="string"&&q.setCursor(d),f&&q.setIcon(f),typeof g<"u"&&q.setLabel(g),typeof m<"u"&&q.setOpacity(m),p&&q.setShape(p),typeof h=="string"&&q.setTitle(h),typeof v=="number"&&q.setZIndex(v),b&&W(google.maps.event.addListener(q,"dblclick",b)),x&&N(google.maps.event.addListener(q,"dragend",x)),w&&te(google.maps.event.addListener(q,"dragstart",w)),M&&de(google.maps.event.addListener(q,"mousedown",M)),S&&Ze(google.maps.event.addListener(q,"mouseout",S)),C&&Yn(google.maps.event.addListener(q,"mouseover",C)),j&&Xn(google.maps.event.addListener(q,"mouseup",j)),R&&Jn(google.maps.event.addListener(q,"rightclick",R)),L&&Qn(google.maps.event.addListener(q,"click",L)),E&&tr(google.maps.event.addListener(q,"drag",E)),T&&nr(google.maps.event.addListener(q,"clickable_changed",T)),U&&rr(google.maps.event.addListener(q,"cursor_changed",U)),$&&or(google.maps.event.addListener(q,"animation_changed",$)),_&&sr(google.maps.event.addListener(q,"draggable_changed",_)),F&&ir(google.maps.event.addListener(q,"flat_changed",F)),k&&ar(google.maps.event.addListener(q,"icon_changed",k)),D&&lr(google.maps.event.addListener(q,"position_changed",D)),I&&ur(google.maps.event.addListener(q,"shape_changed",I)),A&&dr(google.maps.event.addListener(q,"title_changed",A)),z&&fr(google.maps.event.addListener(q,"visible_changed",z)),Z&&pr(google.maps.event.addListener(q,"zindex_changed",Z)),ee(q),G&&G(q),()=>{B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),ne!==null&&google.maps.event.removeListener(ne),ke!==null&&google.maps.event.removeListener(ke),mt!==null&&google.maps.event.removeListener(mt),vt!==null&&google.maps.event.removeListener(vt),yt!==null&&google.maps.event.removeListener(yt),bt!==null&&google.maps.event.removeListener(bt),wt!==null&&google.maps.event.removeListener(wt),Lt!==null&&google.maps.event.removeListener(Lt),xt!==null&&google.maps.event.removeListener(xt),Ct!==null&&google.maps.event.removeListener(Ct),Et!==null&&google.maps.event.removeListener(Et),St!==null&&google.maps.event.removeListener(St),Mt!==null&&google.maps.event.removeListener(Mt),Pt!==null&&google.maps.event.removeListener(Pt),Ot!==null&&google.maps.event.removeListener(Ot),H&&H(q),r?r.removeMarker(q,!!o):q&&q.setMap(null)}},[]);var Ti=s.useMemo(()=>i?s.Children.map(i,st=>{if(!s.isValidElement(st))return st;var q=st;return s.cloneElement(q,{anchor:O})}):null,[i,O]);return y.jsx(y.Fragment,{children:Ti})||null}s.memo(xa);class us extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[])}componentDidMount(){var e=this;return is(function*(){var n=Xe(Xe(Xe({},e.props.options||Ft),e.props.clusterer?Ft:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=J({updaterMap:Rr,eventMap:jr,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Rr,eventMap:jr,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Q(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?s.Children.map(this.props.children,n=>{if(!s.isValidElement(n))return n;var r=n;return s.cloneElement(r,{anchor:this.marker})}):null;return e||null}}P(us,"contextType",Y);var Ca=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),o=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(o),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(o);var l=a.getZoom()||0;r!==null&&l>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,o,i,a;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var g=document.createElement("img");g.alt=l,g.src=this.url,g.width=this.width,g.height=this.height,g.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(g.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(m.innerText="".concat((o=this.sums)===null||o===void 0?void 0:o.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(m.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(g),this.div.appendChild(m),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),Ea=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Ca(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,o=n;r<o.length;r++){var i=o[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var o=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(o-1)+r.lat())/o,(this.center.lng()*(o-1)+r.lng())/o),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof l<"u"&&l>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var d=u[c];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),o=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof o<"u"&&o>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function Sa(t,e){var n=t.length,r=n.toString().length,o=Math.min(r,e);return{text:n.toString(),index:o,title:""}}var Ma=2e3,Pa=500,Oa="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",ka="png",Da=[53,56,66,78,90],Ia="cluster",ds=(function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Oa,this.imageExtension=r.imageExtension||ka,this.imageSizes=r.imageSizes||Da,this.calculator=r.calculator||Sa,this.batchSize=r.batchSize||Ma,this.batchSizeIE=r.batchSizeIE||Pa,this.clusterClass=r.clusterClass||Ia,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var o=0,i=this.clusters;o<i.length;o++){var a=i[o];a.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,o=e;r<o.length;r++){var i=o[r],a=i.getPosition();a&&n.extend(a)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];o&&this.pushMarkerTo(o)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,o=0,i=e;o<i.length;o++){var a=i[o];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,o=e;r<o.length;r++){var i=o[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var o=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(o!==null&&(o.x-=this.gridSize,o.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(o!==null){var a=n.fromDivPixelToLatLng(o);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var o=r[n];o.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var l=a[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,o=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,o=null,i=0,a=this.clusters;i<a.length;i++){var l=a[i];n=l;var c=n.getCenter(),u=e.getPosition();if(c&&u){var d=this.distanceBetweenPoints(c,u);d<r&&(r=d,o=n)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):(n=new Ea(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),o=r!==null&&("getBounds"in r)?r.getBounds():null,i=r?.getZoom()||0,a=i>3?new google.maps.LatLngBounds(o?.getSouthWest(),o?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,l)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,g=this.clusters;f<g.length;f++){var m=g[f];m.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(o){for(var i in o.prototype){var a=i;this.prototype[a]=o.prototype[a]}return this}).apply(e,[n])},t})();function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ge={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},re={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Ra={};function Ta(t){var{children:e,options:n,averageCenter:r,batchSizeIE:o,calculator:i,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:f,imageSizes:g,maxZoom:m,minimumClusterSize:p,styles:h,title:v,zoomOnClick:L,onClick:b,onClusteringBegin:E,onClusteringEnd:x,onMouseOver:w,onMouseOut:S,onLoad:C,onUnmount:j}=t,[M,R]=s.useState(null),T=s.useContext(Y),[U,$]=s.useState(null),[_,F]=s.useState(null),[k,D]=s.useState(null),[I,A]=s.useState(null),[z,Z]=s.useState(null);return s.useEffect(()=>{M&&S&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(M,ge.onMouseOut,S)))},[S]),s.useEffect(()=>{M&&w&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(M,ge.onMouseOver,w)))},[w]),s.useEffect(()=>{M&&b&&(U!==null&&google.maps.event.removeListener(U),$(google.maps.event.addListener(M,ge.onClick,b)))},[b]),s.useEffect(()=>{M&&E&&(_!==null&&google.maps.event.removeListener(_),F(google.maps.event.addListener(M,ge.onClusteringBegin,E)))},[E]),s.useEffect(()=>{M&&x&&(k!==null&&google.maps.event.removeListener(k),F(google.maps.event.addListener(M,ge.onClusteringEnd,x)))},[x]),s.useEffect(()=>{typeof r<"u"&&M!==null&&re.averageCenter(M,r)},[M,r]),s.useEffect(()=>{typeof o<"u"&&M!==null&&re.batchSizeIE(M,o)},[M,o]),s.useEffect(()=>{typeof i<"u"&&M!==null&&re.calculator(M,i)},[M,i]),s.useEffect(()=>{typeof a<"u"&&M!==null&&re.clusterClass(M,a)},[M,a]),s.useEffect(()=>{typeof l<"u"&&M!==null&&re.enableRetinaIcons(M,l)},[M,l]),s.useEffect(()=>{typeof c<"u"&&M!==null&&re.gridSize(M,c)},[M,c]),s.useEffect(()=>{typeof u<"u"&&M!==null&&re.ignoreHidden(M,u)},[M,u]),s.useEffect(()=>{typeof d<"u"&&M!==null&&re.imageExtension(M,d)},[M,d]),s.useEffect(()=>{typeof f<"u"&&M!==null&&re.imagePath(M,f)},[M,f]),s.useEffect(()=>{typeof g<"u"&&M!==null&&re.imageSizes(M,g)},[M,g]),s.useEffect(()=>{typeof m<"u"&&M!==null&&re.maxZoom(M,m)},[M,m]),s.useEffect(()=>{typeof p<"u"&&M!==null&&re.minimumClusterSize(M,p)},[M,p]),s.useEffect(()=>{typeof h<"u"&&M!==null&&re.styles(M,h)},[M,h]),s.useEffect(()=>{typeof v<"u"&&M!==null&&re.title(M,v)},[M,v]),s.useEffect(()=>{typeof L<"u"&&M!==null&&re.zoomOnClick(M,L)},[M,L]),s.useEffect(()=>{if(T){var G=ja({},n||Ra),H=new ds(T,[],G);return r&&re.averageCenter(H,r),o&&re.batchSizeIE(H,o),i&&re.calculator(H,i),a&&re.clusterClass(H,a),l&&re.enableRetinaIcons(H,l),c&&re.gridSize(H,c),u&&re.ignoreHidden(H,u),d&&re.imageExtension(H,d),f&&re.imagePath(H,f),g&&re.imageSizes(H,g),m&&re.maxZoom(H,m),p&&re.minimumClusterSize(H,p),h&&re.styles(H,h),v&&re.title(H,v),L&&re.zoomOnClick(H,L),S&&A(google.maps.event.addListener(H,ge.onMouseOut,S)),w&&Z(google.maps.event.addListener(H,ge.onMouseOver,w)),b&&$(google.maps.event.addListener(H,ge.onClick,b)),E&&F(google.maps.event.addListener(H,ge.onClusteringBegin,E)),x&&D(google.maps.event.addListener(H,ge.onClusteringEnd,x)),R(H),C&&C(H),()=>{I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),j&&j(H)}}},[]),M!==null&&e(M)||null}s.memo(Ta);class Aa extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{markerClusterer:null}),P(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new ds(this.context,[],this.props.options);this.registeredEvents=J({updaterMap:re,eventMap:ge,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:re,eventMap:ge,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Q(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}P(Aa,"contextType",Y);function Ar(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var fs=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||Ar(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var o=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-o.left-o.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,l=i;a<l.length;a++){var c=l[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,Ar))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,o=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),l=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,f=this.div.offsetWidth,g=this.div.offsetHeight,m=this.infoBoxClearance.width,p=this.infoBoxClearance.height,h=this.getProjection(),v=h.fromLatLngToContainerPixel(this.position);v!==null&&(v.x<-u+m?r=v.x+u-m:v.x+f+u+m>l&&(r=v.x+f+u+m-l),this.alignBottom?v.y<-d+p+g?o=v.y+d-p-g:v.y+d+p>c&&(o=v.y+d+p-c):v.y<-d+p?o=v.y+d-p:v.y+g+d+p>c&&(o=v.y+g+d+p-c)),r===0&&o===0||n.panBy(r,o)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var o=this.div.currentStyle;o&&(e.top=parseInt(o.borderTopWidth||"",10)||0,e.bottom=parseInt(o.borderBottomWidth||"",10)||0,e.left=parseInt(o.borderLeftWidth||"",10)||0,e.right=parseInt(o.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var o=n.getPosition();r.setPosition(o)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(o){for(var i in o.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=o.prototype[i]);return this}).apply(e,[n])},t})(),Na=["position"],_a=["position"];function Nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _r={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Br={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Ba={};function za(t){var{children:e,anchor:n,options:r,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:f,onUnmount:g}=t,m=s.useContext(Y),[p,h]=s.useState(null),[v,L]=s.useState(null),[b,E]=s.useState(null),[x,w]=s.useState(null),[S,C]=s.useState(null),[j,M]=s.useState(null),R=s.useRef(null);return s.useEffect(()=>{m&&p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),s.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),s.useEffect(()=>{if(o&&p!==null){var T=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);p.setPosition(T)}},[o]),s.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),s.useEffect(()=>{p&&a&&(v!==null&&google.maps.event.removeListener(v),L(google.maps.event.addListener(p,"closeclick",a)))},[a]),s.useEffect(()=>{p&&l&&(b!==null&&google.maps.event.removeListener(b),E(google.maps.event.addListener(p,"domready",l)))},[l]),s.useEffect(()=>{p&&c&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(p,"content_changed",c)))},[c]),s.useEffect(()=>{p&&u&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(p,"position_changed",u)))},[u]),s.useEffect(()=>{p&&d&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),s.useEffect(()=>{if(m){var T=r||Ba,{position:U}=T,$=_n(T,Na),_;U&&!(U instanceof google.maps.LatLng)&&(_=new google.maps.LatLng(U.lat,U.lng));var F=new fs($t($t({},$),_?{position:_}:{}));R.current=document.createElement("div"),h(F),a&&L(google.maps.event.addListener(F,"closeclick",a)),l&&E(google.maps.event.addListener(F,"domready",l)),c&&w(google.maps.event.addListener(F,"content_changed",c)),u&&C(google.maps.event.addListener(F,"position_changed",u)),d&&M(google.maps.event.addListener(F,"zindex_changed",d)),F.setContent(R.current),n?F.open(m,n):F.getPosition()?F.open(m):le(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(F)}return()=>{p!==null&&(v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),g&&g(p),p.close())}},[]),R.current?Oe.createPortal(s.Children.only(e),R.current):null}s.memo(za);class Ua extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",null),P(this,"state",{infoBox:null}),P(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):le(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),P(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=_n(e,_a),o;n&&!(n instanceof google.maps.LatLng)&&(o=new google.maps.LatLng(n.lat,n.lng));var i=new fs($t($t({},r),o?{position:o}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=J({updaterMap:Br,eventMap:_r,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Br,eventMap:_r,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Q(this.registeredEvents),n.close())}render(){return this.containerElement?Oe.createPortal(s.Children.only(this.props.children),this.containerElement):null}}P(Ua,"contextType",Y);var ln,zr;function Fa(){return zr||(zr=1,ln=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),ln}var $a=Fa(),Ur=ss($a),Fr=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],cn=1,at=8;class Bn{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var o=r>>4;if(o!==cn)throw new Error("Got v".concat(o," data when expected v").concat(cn,"."));var i=Fr[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new Bn(l,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,o=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=Fr.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,at,e),this.coords=new this.ArrayType(this.data,at+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(at+a+l+c),this.ids=new this.IndexArrayType(this.data,at,e),this.coords=new this.ArrayType(this.data,at+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(cn<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return xn(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var d=c.pop()||0,f=c.pop()||0,g=c.pop()||0;if(f-g<=l){for(var m=g;m<=f;m++){var p=a[2*m],h=a[2*m+1];p>=e&&p<=r&&h>=n&&h<=o&&u.push(i[m])}continue}var v=g+f>>1,L=a[2*v],b=a[2*v+1];L>=e&&L<=r&&b>=n&&b<=o&&u.push(i[v]),(d===0?e<=L:n<=b)&&(c.push(g),c.push(v-1),c.push(1-d)),(d===0?r>=L:o>=b)&&(c.push(v+1),c.push(f),c.push(1-d))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:i,nodeSize:a}=this,l=[0,o.length-1,0],c=[],u=r*r;l.length;){var d=l.pop()||0,f=l.pop()||0,g=l.pop()||0;if(f-g<=a){for(var m=g;m<=f;m++)$r(i[2*m],i[2*m+1],e,n)<=u&&c.push(o[m]);continue}var p=g+f>>1,h=i[2*p],v=i[2*p+1];$r(h,v,e,n)<=u&&c.push(o[p]),(d===0?e-r<=h:n-r<=v)&&(l.push(g),l.push(p-1),l.push(1-d)),(d===0?e+r>=h:n+r>=v)&&(l.push(p+1),l.push(f),l.push(1-d))}return c}}function xn(t,e,n,r,o,i){if(!(o-r<=n)){var a=r+o>>1;ps(t,e,a,r,o,i),xn(t,e,n,r,a-1,1-i),xn(t,e,n,a+1,o,1-i)}}function ps(t,e,n,r,o,i){for(;o>r;){if(o-r>600){var a=o-r+1,l=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1),f=Math.max(r,Math.floor(n-l*u/a+d)),g=Math.min(o,Math.floor(n+(a-l)*u/a+d));ps(t,e,n,f,g,i)}var m=e[2*n+i],p=r,h=o;for(lt(t,e,r,n),e[2*o+i]>m&&lt(t,e,r,o);p<h;){for(lt(t,e,p,h),p++,h--;e[2*p+i]<m;)p++;for(;e[2*h+i]>m;)h--}e[2*r+i]===m?lt(t,e,r,h):(h++,lt(t,e,h,o)),h<=n&&(r=h+1),n<=h&&(o=h-1)}}function lt(t,e,n,r){un(t,n,r),un(e,2*n,2*r),un(e,2*n+1,2*r+1)}function un(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function $r(t,e,n,r){var o=t-n,i=e-r;return o*o+i*i}var Wa={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Wr=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ze=2,Re=3,dn=4,Ie=5,hs=6;class Ha{constructor(e){this.options=Object.assign(Object.create(Wa),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:o}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,d]=c.geometry.coordinates,f=Wr(kt(u)),g=Wr(Dt(d));a.push(f,g,1/0,l,-1,1),this.options.reduce&&a.push(0)}}var m=this.trees[o+1]=this._createTree(a);n&&console.timeEnd(i);for(var p=o;p>=r;p--){var h=+Date.now();m=this.trees[p]=this._createTree(this._cluster(m,p)),n&&console.log("z%d: %d clusters in %dms",p,m.numItems,+Date.now()-h)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var l=this.getClusters([r,o,180,a],n),c=this.getClusters([-180,o,i,a],n);return l.concat(c)}var u=this.trees[this._limitZoom(n)],d=u.range(kt(r),Dt(a),kt(i),Dt(o)),f=u.data,g=[];for(var m of d){var p=this.stride*m;g.push(f[p+Ie]>1?Hr(f,p,this.clusterProps):this.points[f[p+Re]])}return g}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(o);var a=i.data;if(n*this.stride>=a.length)throw new Error(o);var l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],d=i.within(c,u,l),f=[];for(var g of d){var m=g*this.stride;a[m+dn]===e&&f.push(a[m+Ie]>1?Hr(a,m,this.clusterProps):this.points[a[m+Re]])}if(f.length===0)throw new Error(o);return f}getLeaves(e,n,r){n=n||10,r=r||0;var o=[];return this._appendLeaves(o,e,n,r,0),o}getTile(e,n,r){var o=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:l}=this.options,c=l/a,u=(r-c)/i,d=(r+1+c)/i,f={features:[]};return this._addTileFeatures(o.range((n-c)/i,u,(n+1+c)/i,d),o.data,n,r,i,f),n===0&&this._addTileFeatures(o.range(1-c/i,u,1,d),o.data,i,r,i,f),n===i-1&&this._addTileFeatures(o.range(0,u,c/i,d),o.data,-1,r,i,f),f.features.length?f:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,o,i){var a=this.getChildren(n);for(var l of a){var c=l.properties;if(c&&c.cluster?i+c.point_count<=o?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,o,i):i<o?i++:e.push(l),e.length===r)break}return i}_createTree(e){for(var n=new Bn(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,o,i,a){for(var l of e){var c=l*this.stride,u=n[c+Ie]>1,d=void 0,f=void 0,g=void 0;if(u)d=gs(n,c,this.clusterProps),f=n[c],g=n[c+1];else{var m=this.points[n[c+Re]];d=m.properties;var[p,h]=m.geometry.coordinates;f=kt(p),g=Dt(h)}var v={type:1,geometry:[[Math.round(this.options.extent*(f*i-r)),Math.round(this.options.extent*(g*i-o))]],tags:d},L=void 0;u||this.options.generateId?L=n[c+Re]:L=this.points[n[c+Re]].id,L!==void 0&&(v.id=L),a.features.push(v)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:o,reduce:i,minPoints:a}=this.options,l=r/(o*Math.pow(2,n)),c=e.data,u=[],d=this.stride,f=0;f<c.length;f+=d)if(!(c[f+ze]<=n)){c[f+ze]=n;var g=c[f],m=c[f+1],p=e.within(c[f],c[f+1],l),h=c[f+Ie],v=h;for(var L of p){var b=L*d;c[b+ze]>n&&(v+=c[b+Ie])}if(v>h&&v>=a){var E=g*h,x=m*h,w=void 0,S=-1,C=((f/d|0)<<5)+(n+1)+this.points.length;for(var j of p){var M=j*d;if(!(c[M+ze]<=n)){c[M+ze]=n;var R=c[M+Ie];E+=c[M]*R,x+=c[M+1]*R,c[M+dn]=C,i&&(w||(w=this._map(c,f,!0),S=this.clusterProps.length,this.clusterProps.push(w)),i(w,this._map(c,M)))}}c[f+dn]=C,u.push(E/v,x/v,1/0,C,-1,v),i&&u.push(S)}else{for(var T=0;T<d;T++)u.push(c[f+T]);if(v>1)for(var U of p){var $=U*d;if(!(c[$+ze]<=n)){c[$+ze]=n;for(var _=0;_<d;_++)u.push(c[$+_])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Ie]>1){var o=this.clusterProps[e[n+hs]];return r?Object.assign({},o):o}var i=this.points[e[n+Re]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function Hr(t,e,n){return{type:"Feature",id:t[e+Re],properties:gs(t,e,n),geometry:{type:"Point",coordinates:[Va(t[e]),Za(t[e+1])]}}}function gs(t,e,n){var r=t[e+Ie],o=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+hs],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Re],point_count:r,point_count_abbreviated:o})}function kt(t){return t/360+.5}function Dt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Va(t){return(t-.5)*360}function Za(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ga(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}class fe{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Cn{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(fe.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>fe.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(fe.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ka{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return qa(n)}}var qa=t=>{var e=t.map(n=>new Cn({position:fe.getPosition(n),markers:[n]}));return e};class Ya extends Ka{constructor(e){var{maxZoom:n,radius:r=60}=e,o=Ga(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Ha(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!Ur(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var o=this.markers.map(i=>{var a=fe.getPosition(i),l=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(o)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Ur(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:o}=e;if(o.cluster)return new Cn({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=o.marker;return new Cn({markers:[i],position:fe.getPosition(i)})}}class Xa{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),o=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:o/n.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class Ja{render(e,n,r){var{count:o,position:i}=e,a=o>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(o,`</text>
</svg>`),c="Cluster of ".concat(o," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+o;if(fe.isAdvancedMarkerAvailable(r)){var d=new DOMParser,f=d.parseFromString(l,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var g={map:r,position:i,zIndex:u,title:c,content:f};return new google.maps.marker.AdvancedMarkerElement(g)}var m={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function Qa(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class zn{constructor(){Qa(zn,google.maps.OverlayView)}}var ut;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ut||(ut={}));var el=(t,e,n)=>{n.fitBounds(e.bounds)};class tl extends zn{constructor(e){var{map:n,markers:r=[],algorithmOptions:o={},algorithm:i=new Ya(o),renderer:a=new Ja,onClusterClick:l=el}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=l,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(fe.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(o=>{r=this.removeMarker(o,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ut.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var o=new Set;for(var i of n)i.markers.length==1&&o.add(i.markers[0]);var a=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?o.has(l.marker)||fe.setMap(l.marker,null):a.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>fe.setMap(c,null)))}google.maps.event.trigger(this,ut.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>fe.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Xa(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(o=>fe.setMap(o,null)),this.onClusterClick&&r.marker.addListener("click",o=>{google.maps.event.trigger(this,ut.CLUSTER_CLICK,r),this.onClusterClick(o,r,n)})),fe.setMap(r.marker,n)})}}function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nl(t){var e=Ki(),[n,r]=s.useState(null);return s.useEffect(()=>{if(e&&n===null){var o=new tl(Zr(Zr({},t),{},{map:e}));r(o)}},[e]),n}function rl(t){var{children:e,options:n}=t,r=nl(n);return r!==null?e(r):null}s.memo(rl);var Gr={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Kr={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function ol(t){var{children:e,anchor:n,options:r,position:o,zIndex:i,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:f,onUnmount:g}=t,m=s.useContext(Y),[p,h]=s.useState(null),[v,L]=s.useState(null),[b,E]=s.useState(null),[x,w]=s.useState(null),[S,C]=s.useState(null),[j,M]=s.useState(null),R=s.useRef(null);return s.useEffect(()=>{p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),s.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),s.useEffect(()=>{o&&p!==null&&p.setPosition(o)},[o]),s.useEffect(()=>{typeof i=="number"&&p!==null&&p.setZIndex(i)},[i]),s.useEffect(()=>{p&&a&&(v!==null&&google.maps.event.removeListener(v),L(google.maps.event.addListener(p,"closeclick",a)))},[a]),s.useEffect(()=>{p&&l&&(b!==null&&google.maps.event.removeListener(b),E(google.maps.event.addListener(p,"domready",l)))},[l]),s.useEffect(()=>{p&&c&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(p,"content_changed",c)))},[c]),s.useEffect(()=>{p&&u&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(p,"position_changed",u)))},[u]),s.useEffect(()=>{p&&d&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(p,"zindex_changed",d)))},[d]),s.useEffect(()=>{var T=new google.maps.InfoWindow(r);return h(T),R.current=document.createElement("div"),a&&L(google.maps.event.addListener(T,"closeclick",a)),l&&E(google.maps.event.addListener(T,"domready",l)),c&&w(google.maps.event.addListener(T,"content_changed",c)),u&&C(google.maps.event.addListener(T,"position_changed",u)),d&&M(google.maps.event.addListener(T,"zindex_changed",d)),T.setContent(R.current),o&&T.setPosition(o),i&&T.setZIndex(i),n?T.open(m,n):T.getPosition()?T.open(m):le(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(T),()=>{v&&google.maps.event.removeListener(v),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),S&&google.maps.event.removeListener(S),j&&google.maps.event.removeListener(j),g&&g(T),T.close()}},[]),R.current?Oe.createPortal(s.Children.only(e),R.current):null}s.memo(ol);class sl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",null),P(this,"state",{infoWindow:null}),P(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):le(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),P(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=J({updaterMap:Kr,eventMap:Gr,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Kr,eventMap:Gr,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Q(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Oe.createPortal(s.Children.only(this.props.children),this.containerElement):null}}P(sl,"contextType",Y);function qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yr={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Xr={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},il={};function al(t){var{options:e,draggable:n,editable:r,visible:o,path:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:m,onRightClick:p,onClick:h,onDrag:v,onLoad:L,onUnmount:b}=t,E=s.useContext(Y),[x,w]=s.useState(null),[S,C]=s.useState(null),[j,M]=s.useState(null),[R,T]=s.useState(null),[U,$]=s.useState(null),[_,F]=s.useState(null),[k,D]=s.useState(null),[I,A]=s.useState(null),[z,Z]=s.useState(null),[G,H]=s.useState(null),[K,O]=s.useState(null),[ee,B]=s.useState(null);return s.useEffect(()=>{x!==null&&x.setMap(E)},[E]),s.useEffect(()=>{typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),s.useEffect(()=>{typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),s.useEffect(()=>{typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),s.useEffect(()=>{typeof o<"u"&&x!==null&&x.setVisible(o)},[x,o]),s.useEffect(()=>{typeof i<"u"&&x!==null&&x.setPath(i)},[x,i]),s.useEffect(()=>{x&&a&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(x,"dblclick",a)))},[a]),s.useEffect(()=>{x&&l&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(x,"dragend",l)))},[l]),s.useEffect(()=>{x&&c&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(x,"dragstart",c)))},[c]),s.useEffect(()=>{x&&u&&(U!==null&&google.maps.event.removeListener(U),$(google.maps.event.addListener(x,"mousedown",u)))},[u]),s.useEffect(()=>{x&&d&&(_!==null&&google.maps.event.removeListener(_),F(google.maps.event.addListener(x,"mousemove",d)))},[d]),s.useEffect(()=>{x&&f&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(x,"mouseout",f)))},[f]),s.useEffect(()=>{x&&g&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(x,"mouseover",g)))},[g]),s.useEffect(()=>{x&&m&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(x,"mouseup",m)))},[m]),s.useEffect(()=>{x&&p&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(x,"rightclick",p)))},[p]),s.useEffect(()=>{x&&h&&(K!==null&&google.maps.event.removeListener(K),O(google.maps.event.addListener(x,"click",h)))},[h]),s.useEffect(()=>{x&&v&&(ee!==null&&google.maps.event.removeListener(ee),B(google.maps.event.addListener(x,"drag",v)))},[v]),s.useEffect(()=>{var W=new google.maps.Polyline(Wt(Wt({},e||il),{},{map:E}));return i&&W.setPath(i),typeof o<"u"&&W.setVisible(o),typeof r<"u"&&W.setEditable(r),typeof n<"u"&&W.setDraggable(n),a&&C(google.maps.event.addListener(W,"dblclick",a)),l&&M(google.maps.event.addListener(W,"dragend",l)),c&&T(google.maps.event.addListener(W,"dragstart",c)),u&&$(google.maps.event.addListener(W,"mousedown",u)),d&&F(google.maps.event.addListener(W,"mousemove",d)),f&&D(google.maps.event.addListener(W,"mouseout",f)),g&&A(google.maps.event.addListener(W,"mouseover",g)),m&&Z(google.maps.event.addListener(W,"mouseup",m)),p&&H(google.maps.event.addListener(W,"rightclick",p)),h&&O(google.maps.event.addListener(W,"click",h)),v&&B(google.maps.event.addListener(W,"drag",v)),w(W),L&&L(W),()=>{S!==null&&google.maps.event.removeListener(S),j!==null&&google.maps.event.removeListener(j),R!==null&&google.maps.event.removeListener(R),U!==null&&google.maps.event.removeListener(U),_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),b&&b(W),W.setMap(null)}},[]),null}s.memo(al);class ll extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{polyline:null}),P(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Wt(Wt({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:Xr,eventMap:Yr,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Xr,eventMap:Yr,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Q(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}P(ll,"contextType",Y);function Jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jr(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var eo={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},to={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function cl(t){var{options:e,draggable:n,editable:r,visible:o,path:i,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:h,onClick:v,onDrag:L,onLoad:b,onUnmount:E,onEdit:x}=t,w=s.useContext(Y),[S,C]=s.useState(null),[j,M]=s.useState(null),[R,T]=s.useState(null),[U,$]=s.useState(null),[_,F]=s.useState(null),[k,D]=s.useState(null),[I,A]=s.useState(null),[z,Z]=s.useState(null),[G,H]=s.useState(null),[K,O]=s.useState(null),[ee,B]=s.useState(null),[W,X]=s.useState(null);return s.useEffect(()=>{S!==null&&S.setMap(w)},[w]),s.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),s.useEffect(()=>{typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),s.useEffect(()=>{typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),s.useEffect(()=>{typeof o<"u"&&S!==null&&S.setVisible(o)},[S,o]),s.useEffect(()=>{typeof i<"u"&&S!==null&&S.setPath(i)},[S,i]),s.useEffect(()=>{typeof a<"u"&&S!==null&&S.setPaths(a)},[S,a]),s.useEffect(()=>{S&&typeof l=="function"&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(S,"dblclick",l)))},[l]),s.useEffect(()=>{S&&(google.maps.event.addListener(S.getPath(),"insert_at",()=>{x?.(S)}),google.maps.event.addListener(S.getPath(),"set_at",()=>{x?.(S)}),google.maps.event.addListener(S.getPath(),"remove_at",()=>{x?.(S)}))},[S,x]),s.useEffect(()=>{S&&typeof c=="function"&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(S,"dragend",c)))},[c]),s.useEffect(()=>{S&&typeof u=="function"&&(U!==null&&google.maps.event.removeListener(U),$(google.maps.event.addListener(S,"dragstart",u)))},[u]),s.useEffect(()=>{S&&typeof d=="function"&&(_!==null&&google.maps.event.removeListener(_),F(google.maps.event.addListener(S,"mousedown",d)))},[d]),s.useEffect(()=>{S&&typeof f=="function"&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(S,"mousemove",f)))},[f]),s.useEffect(()=>{S&&typeof g=="function"&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(S,"mouseout",g)))},[g]),s.useEffect(()=>{S&&typeof m=="function"&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(S,"mouseover",m)))},[m]),s.useEffect(()=>{S&&typeof p=="function"&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(S,"mouseup",p)))},[p]),s.useEffect(()=>{S&&typeof h=="function"&&(K!==null&&google.maps.event.removeListener(K),O(google.maps.event.addListener(S,"rightclick",h)))},[h]),s.useEffect(()=>{S&&typeof v=="function"&&(ee!==null&&google.maps.event.removeListener(ee),B(google.maps.event.addListener(S,"click",v)))},[v]),s.useEffect(()=>{S&&typeof L=="function"&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(S,"drag",L)))},[L]),s.useEffect(()=>{var N=new google.maps.Polygon(Qr(Qr({},e),{},{map:w}));return i&&N.setPath(i),a&&N.setPaths(a),typeof o<"u"&&N.setVisible(o),typeof r<"u"&&N.setEditable(r),typeof n<"u"&&N.setDraggable(n),l&&M(google.maps.event.addListener(N,"dblclick",l)),c&&T(google.maps.event.addListener(N,"dragend",c)),u&&$(google.maps.event.addListener(N,"dragstart",u)),d&&F(google.maps.event.addListener(N,"mousedown",d)),f&&D(google.maps.event.addListener(N,"mousemove",f)),g&&A(google.maps.event.addListener(N,"mouseout",g)),m&&Z(google.maps.event.addListener(N,"mouseover",m)),p&&H(google.maps.event.addListener(N,"mouseup",p)),h&&O(google.maps.event.addListener(N,"rightclick",h)),v&&B(google.maps.event.addListener(N,"click",v)),L&&X(google.maps.event.addListener(N,"drag",L)),C(N),b&&b(N),()=>{j!==null&&google.maps.event.removeListener(j),R!==null&&google.maps.event.removeListener(R),U!==null&&google.maps.event.removeListener(U),_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),ee!==null&&google.maps.event.removeListener(ee),E&&E(N),N.setMap(null)}},[]),null}s.memo(cl);class ms extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=J({updaterMap:to,eventMap:eo,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:to,eventMap:eo,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Q(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}P(ms,"contextType",Y);function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?no(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ro={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oo={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function ul(t){var{options:e,bounds:n,draggable:r,editable:o,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:f,onMouseOver:g,onMouseUp:m,onRightClick:p,onClick:h,onDrag:v,onBoundsChanged:L,onLoad:b,onUnmount:E}=t,x=s.useContext(Y),[w,S]=s.useState(null),[C,j]=s.useState(null),[M,R]=s.useState(null),[T,U]=s.useState(null),[$,_]=s.useState(null),[F,k]=s.useState(null),[D,I]=s.useState(null),[A,z]=s.useState(null),[Z,G]=s.useState(null),[H,K]=s.useState(null),[O,ee]=s.useState(null),[B,W]=s.useState(null),[X,N]=s.useState(null);return s.useEffect(()=>{w!==null&&w.setMap(x)},[x]),s.useEffect(()=>{typeof e<"u"&&w!==null&&w.setOptions(e)},[w,e]),s.useEffect(()=>{typeof r<"u"&&w!==null&&w.setDraggable(r)},[w,r]),s.useEffect(()=>{typeof o<"u"&&w!==null&&w.setEditable(o)},[w,o]),s.useEffect(()=>{typeof i<"u"&&w!==null&&w.setVisible(i)},[w,i]),s.useEffect(()=>{typeof n<"u"&&w!==null&&w.setBounds(n)},[w,n]),s.useEffect(()=>{w&&a&&(C!==null&&google.maps.event.removeListener(C),j(google.maps.event.addListener(w,"dblclick",a)))},[a]),s.useEffect(()=>{w&&l&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(w,"dragend",l)))},[l]),s.useEffect(()=>{w&&c&&(T!==null&&google.maps.event.removeListener(T),U(google.maps.event.addListener(w,"dragstart",c)))},[c]),s.useEffect(()=>{w&&u&&($!==null&&google.maps.event.removeListener($),_(google.maps.event.addListener(w,"mousedown",u)))},[u]),s.useEffect(()=>{w&&d&&(F!==null&&google.maps.event.removeListener(F),k(google.maps.event.addListener(w,"mousemove",d)))},[d]),s.useEffect(()=>{w&&f&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(w,"mouseout",f)))},[f]),s.useEffect(()=>{w&&g&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(w,"mouseover",g)))},[g]),s.useEffect(()=>{w&&m&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(w,"mouseup",m)))},[m]),s.useEffect(()=>{w&&p&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(w,"rightclick",p)))},[p]),s.useEffect(()=>{w&&h&&(O!==null&&google.maps.event.removeListener(O),ee(google.maps.event.addListener(w,"click",h)))},[h]),s.useEffect(()=>{w&&v&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(w,"drag",v)))},[v]),s.useEffect(()=>{w&&L&&(X!==null&&google.maps.event.removeListener(X),N(google.maps.event.addListener(w,"bounds_changed",L)))},[L]),s.useEffect(()=>{var V=new google.maps.Rectangle(Ht(Ht({},e),{},{map:x}));return typeof i<"u"&&V.setVisible(i),typeof o<"u"&&V.setEditable(o),typeof r<"u"&&V.setDraggable(r),typeof n<"u"&&V.setBounds(n),a&&j(google.maps.event.addListener(V,"dblclick",a)),l&&R(google.maps.event.addListener(V,"dragend",l)),c&&U(google.maps.event.addListener(V,"dragstart",c)),u&&_(google.maps.event.addListener(V,"mousedown",u)),d&&k(google.maps.event.addListener(V,"mousemove",d)),f&&I(google.maps.event.addListener(V,"mouseout",f)),g&&z(google.maps.event.addListener(V,"mouseover",g)),m&&G(google.maps.event.addListener(V,"mouseup",m)),p&&K(google.maps.event.addListener(V,"rightclick",p)),h&&ee(google.maps.event.addListener(V,"click",h)),v&&W(google.maps.event.addListener(V,"drag",v)),L&&N(google.maps.event.addListener(V,"bounds_changed",L)),S(V),b&&b(V),()=>{C!==null&&google.maps.event.removeListener(C),M!==null&&google.maps.event.removeListener(M),T!==null&&google.maps.event.removeListener(T),$!==null&&google.maps.event.removeListener($),F!==null&&google.maps.event.removeListener(F),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),X!==null&&google.maps.event.removeListener(X),E&&E(V),V.setMap(null)}},[]),null}s.memo(ul);class dl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{rectangle:null}),P(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Ht(Ht({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:oo,eventMap:ro,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:oo,eventMap:ro,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Q(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}P(dl,"contextType",Y);function so(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?so(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var io={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ao={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},fl={};function pl(t){var{options:e,center:n,radius:r,draggable:o,editable:i,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:f,onMouseOut:g,onMouseOver:m,onMouseUp:p,onRightClick:h,onClick:v,onDrag:L,onCenterChanged:b,onRadiusChanged:E,onLoad:x,onUnmount:w}=t,S=s.useContext(Y),[C,j]=s.useState(null),[M,R]=s.useState(null),[T,U]=s.useState(null),[$,_]=s.useState(null),[F,k]=s.useState(null),[D,I]=s.useState(null),[A,z]=s.useState(null),[Z,G]=s.useState(null),[H,K]=s.useState(null),[O,ee]=s.useState(null),[B,W]=s.useState(null),[X,N]=s.useState(null),[V,te]=s.useState(null),[oe,de]=s.useState(null);return s.useEffect(()=>{C!==null&&C.setMap(S)},[S]),s.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),s.useEffect(()=>{typeof o<"u"&&C!==null&&C.setDraggable(o)},[C,o]),s.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),s.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),s.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),s.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),s.useEffect(()=>{C&&l&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(C,"dblclick",l)))},[l]),s.useEffect(()=>{C&&c&&(T!==null&&google.maps.event.removeListener(T),U(google.maps.event.addListener(C,"dragend",c)))},[c]),s.useEffect(()=>{C&&u&&($!==null&&google.maps.event.removeListener($),_(google.maps.event.addListener(C,"dragstart",u)))},[u]),s.useEffect(()=>{C&&d&&(F!==null&&google.maps.event.removeListener(F),k(google.maps.event.addListener(C,"mousedown",d)))},[d]),s.useEffect(()=>{C&&f&&(D!==null&&google.maps.event.removeListener(D),I(google.maps.event.addListener(C,"mousemove",f)))},[f]),s.useEffect(()=>{C&&g&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(C,"mouseout",g)))},[g]),s.useEffect(()=>{C&&m&&(Z!==null&&google.maps.event.removeListener(Z),G(google.maps.event.addListener(C,"mouseover",m)))},[m]),s.useEffect(()=>{C&&p&&(H!==null&&google.maps.event.removeListener(H),K(google.maps.event.addListener(C,"mouseup",p)))},[p]),s.useEffect(()=>{C&&h&&(O!==null&&google.maps.event.removeListener(O),ee(google.maps.event.addListener(C,"rightclick",h)))},[h]),s.useEffect(()=>{C&&v&&(B!==null&&google.maps.event.removeListener(B),W(google.maps.event.addListener(C,"click",v)))},[v]),s.useEffect(()=>{C&&L&&(X!==null&&google.maps.event.removeListener(X),N(google.maps.event.addListener(C,"drag",L)))},[L]),s.useEffect(()=>{C&&b&&(V!==null&&google.maps.event.removeListener(V),te(google.maps.event.addListener(C,"center_changed",b)))},[v]),s.useEffect(()=>{C&&E&&(oe!==null&&google.maps.event.removeListener(oe),de(google.maps.event.addListener(C,"radius_changed",E)))},[E]),s.useEffect(()=>{var ne=new google.maps.Circle(Vt(Vt({},e||fl),{},{map:S}));return typeof r=="number"&&ne.setRadius(r),typeof n<"u"&&ne.setCenter(n),typeof r=="number"&&ne.setRadius(r),typeof a<"u"&&ne.setVisible(a),typeof i<"u"&&ne.setEditable(i),typeof o<"u"&&ne.setDraggable(o),l&&R(google.maps.event.addListener(ne,"dblclick",l)),c&&U(google.maps.event.addListener(ne,"dragend",c)),u&&_(google.maps.event.addListener(ne,"dragstart",u)),d&&k(google.maps.event.addListener(ne,"mousedown",d)),f&&I(google.maps.event.addListener(ne,"mousemove",f)),g&&z(google.maps.event.addListener(ne,"mouseout",g)),m&&G(google.maps.event.addListener(ne,"mouseover",m)),p&&K(google.maps.event.addListener(ne,"mouseup",p)),h&&ee(google.maps.event.addListener(ne,"rightclick",h)),v&&W(google.maps.event.addListener(ne,"click",v)),L&&N(google.maps.event.addListener(ne,"drag",L)),b&&te(google.maps.event.addListener(ne,"center_changed",b)),E&&de(google.maps.event.addListener(ne,"radius_changed",E)),j(ne),x&&x(ne),()=>{M!==null&&google.maps.event.removeListener(M),T!==null&&google.maps.event.removeListener(T),$!==null&&google.maps.event.removeListener($),F!==null&&google.maps.event.removeListener(F),D!==null&&google.maps.event.removeListener(D),A!==null&&google.maps.event.removeListener(A),Z!==null&&google.maps.event.removeListener(Z),H!==null&&google.maps.event.removeListener(H),O!==null&&google.maps.event.removeListener(O),B!==null&&google.maps.event.removeListener(B),V!==null&&google.maps.event.removeListener(V),oe!==null&&google.maps.event.removeListener(oe),w&&w(ne),ne.setMap(null)}},[]),null}s.memo(pl);class hl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{circle:null}),P(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Vt(Vt({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:ao,eventMap:io,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:ao,eventMap:io,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Q(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}P(hl,"contextType",Y);function lo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var co={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},uo={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function gl(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:o,onMouseMove:i,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:f,onRemoveProperty:g,onSetGeometry:m,onSetProperty:p,onLoad:h,onUnmount:v}=t,L=s.useContext(Y),[b,E]=s.useState(null),[x,w]=s.useState(null),[S,C]=s.useState(null),[j,M]=s.useState(null),[R,T]=s.useState(null),[U,$]=s.useState(null),[_,F]=s.useState(null),[k,D]=s.useState(null),[I,A]=s.useState(null),[z,Z]=s.useState(null),[G,H]=s.useState(null),[K,O]=s.useState(null),[ee,B]=s.useState(null),[W,X]=s.useState(null);return s.useEffect(()=>{b!==null&&b.setMap(L)},[L]),s.useEffect(()=>{b&&r&&(x!==null&&google.maps.event.removeListener(x),w(google.maps.event.addListener(b,"dblclick",r)))},[r]),s.useEffect(()=>{b&&o&&(S!==null&&google.maps.event.removeListener(S),C(google.maps.event.addListener(b,"mousedown",o)))},[o]),s.useEffect(()=>{b&&i&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(b,"mousemove",i)))},[i]),s.useEffect(()=>{b&&a&&(R!==null&&google.maps.event.removeListener(R),T(google.maps.event.addListener(b,"mouseout",a)))},[a]),s.useEffect(()=>{b&&l&&(U!==null&&google.maps.event.removeListener(U),$(google.maps.event.addListener(b,"mouseover",l)))},[l]),s.useEffect(()=>{b&&c&&(_!==null&&google.maps.event.removeListener(_),F(google.maps.event.addListener(b,"mouseup",c)))},[c]),s.useEffect(()=>{b&&u&&(k!==null&&google.maps.event.removeListener(k),D(google.maps.event.addListener(b,"rightclick",u)))},[u]),s.useEffect(()=>{b&&n&&(I!==null&&google.maps.event.removeListener(I),A(google.maps.event.addListener(b,"click",n)))},[n]),s.useEffect(()=>{b&&d&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(b,"addfeature",d)))},[d]),s.useEffect(()=>{b&&f&&(G!==null&&google.maps.event.removeListener(G),H(google.maps.event.addListener(b,"removefeature",f)))},[f]),s.useEffect(()=>{b&&g&&(K!==null&&google.maps.event.removeListener(K),O(google.maps.event.addListener(b,"removeproperty",g)))},[g]),s.useEffect(()=>{b&&m&&(ee!==null&&google.maps.event.removeListener(ee),B(google.maps.event.addListener(b,"setgeometry",m)))},[m]),s.useEffect(()=>{b&&p&&(W!==null&&google.maps.event.removeListener(W),X(google.maps.event.addListener(b,"setproperty",p)))},[p]),s.useEffect(()=>{if(L!==null){var N=new google.maps.Data(Zt(Zt({},e),{},{map:L}));r&&w(google.maps.event.addListener(N,"dblclick",r)),o&&C(google.maps.event.addListener(N,"mousedown",o)),i&&M(google.maps.event.addListener(N,"mousemove",i)),a&&T(google.maps.event.addListener(N,"mouseout",a)),l&&$(google.maps.event.addListener(N,"mouseover",l)),c&&F(google.maps.event.addListener(N,"mouseup",c)),u&&D(google.maps.event.addListener(N,"rightclick",u)),n&&A(google.maps.event.addListener(N,"click",n)),d&&Z(google.maps.event.addListener(N,"addfeature",d)),f&&H(google.maps.event.addListener(N,"removefeature",f)),g&&O(google.maps.event.addListener(N,"removeproperty",g)),m&&B(google.maps.event.addListener(N,"setgeometry",m)),p&&X(google.maps.event.addListener(N,"setproperty",p)),E(N),h&&h(N)}return()=>{b&&(x!==null&&google.maps.event.removeListener(x),S!==null&&google.maps.event.removeListener(S),j!==null&&google.maps.event.removeListener(j),R!==null&&google.maps.event.removeListener(R),U!==null&&google.maps.event.removeListener(U),_!==null&&google.maps.event.removeListener(_),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),z!==null&&google.maps.event.removeListener(z),G!==null&&google.maps.event.removeListener(G),K!==null&&google.maps.event.removeListener(K),ee!==null&&google.maps.event.removeListener(ee),W!==null&&google.maps.event.removeListener(W),v&&v(b),b.setMap(null))}},[]),null}s.memo(gl);class ml extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{data:null}),P(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Zt(Zt({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:uo,eventMap:co,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:uo,eventMap:co,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Q(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}P(ml,"contextType",Y);function fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ho={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},go={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class vl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{kmlLayer:null}),P(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(po(po({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:go,eventMap:ho,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:go,eventMap:ho,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Q(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}P(vl,"contextType",Y);function vs(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function yl(t,e){return new e(t.lat,t.lng)}function bl(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function wl(t,e,n){return t instanceof e?t:n(t,e)}function Ll(t,e,n){return t instanceof e?t:n(t,e)}function xl(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),o=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&o?{left:"".concat(o.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-o.x-e.x,"px"),height:"".concat(o.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Cl(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:o,y:i}=r;return{left:"".concat(o+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function ys(t,e,n,r){return n!==void 0?xl(t,e,Ll(n,google.maps.LatLngBounds,bl)):Cl(t,e,wl(r,google.maps.LatLng,yl))}function El(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ml(t,e,n,r,o){class i extends google.maps.OverlayView{constructor(l,c,u,d){super(),this.container=l,this.pane=c,this.position=u,this.bounds=d}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c?.appendChild(this.container)}draw(){var l=this.getProjection(),c=Sl({},this.container?vs(this.container,o):{x:0,y:0}),u=ys(l,c,this.bounds,this.position);for(var[d,f]of Object.entries(u))this.container.style[d]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function vo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yo(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function bo(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function Ol(t){var{position:e,bounds:n,mapPaneName:r,zIndex:o,onLoad:i,onUnmount:a,getPixelPositionOffset:l,children:c}=t,u=s.useContext(Y),d=s.useMemo(()=>{var g=document.createElement("div");return g.style.position="absolute",g},[]),f=s.useMemo(()=>Ml(d,r,e,n,l),[d,r,e,n]);return s.useEffect(()=>(i?.(f),f?.setMap(u),()=>{a?.(f),f?.setMap(null)}),[u,f]),s.useEffect(()=>{d.style.zIndex="".concat(o)},[o,d]),Oe.createPortal(c,d)}s.memo(Ol);class tt extends s.PureComponent{constructor(e){super(e),P(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),P(this,"updatePane",()=>{var r=this.props.mapPaneName,o=this.overlayView.getPanes();le(!!r,"OverlayView requires props.mapPaneName but got %s",r),o?this.setState({paneEl:o[r]}):this.setState({paneEl:null})}),P(this,"onAdd",()=>{var r,o;this.updatePane(),(r=(o=this.props).onLoad)===null||r===void 0||r.call(o,this.overlayView)}),P(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),o=Pl({x:0,y:0},this.containerRef.current?vs(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=ys(r,o,this.props.bounds,this.props.position);if(!El(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,l,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),P(this,"draw",()=>{this.onPositionElement()}),P(this,"onRemove",()=>{var r,o;this.setState(()=>({paneEl:null})),(r=(o=this.props).onUnmount)===null||r===void 0||r.call(o,this.overlayView)}),this.containerRef=s.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=yo(e.position),r=yo(this.props.position),o=bo(e.bounds),i=bo(this.props.bounds);(n!==r||o!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Oe.createPortal(y.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:s.Children.only(this.props.children)}),e):null}}P(tt,"FLOAT_PANE","floatPane");P(tt,"MAP_PANE","mapPane");P(tt,"MARKER_LAYER","markerLayer");P(tt,"OVERLAY_LAYER","overlayLayer");P(tt,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");P(tt,"contextType",Y);function kl(){}function wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xo={onDblClick:"dblclick",onClick:"click"},Co={opacity(t,e){t.setOpacity(e)}};function Dl(t){var{url:e,bounds:n,options:r,visible:o}=t,i=s.useContext(Y),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=s.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return s.useEffect(()=>{l!==null&&l.setMap(i)},[i]),s.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),s.useEffect(()=>{typeof o<"u"&&l!==null&&l.setOpacity(o?1:0)},[l,o]),s.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,n]),null}s.memo(Dl);class bs extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{groundOverlay:null}),P(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){le(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Lo(Lo({},this.props.options),{},{map:this.context}));this.registeredEvents=J({updaterMap:Co,eventMap:xo,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Co,eventMap:xo,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}P(bs,"defaultProps",{onLoad:kl});P(bs,"contextType",Y);function Eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eo(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var So={},Mo={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function Il(t){var{data:e,onLoad:n,onUnmount:r,options:o}=t,i=s.useContext(Y),[a,l]=s.useState(null);return s.useEffect(()=>{google.maps.visualization||le(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),s.useEffect(()=>{le(!!e,"data property is required in HeatmapLayer %s",e)},[e]),s.useEffect(()=>{a!==null&&a.setMap(i)},[i]),s.useEffect(()=>{o&&a!==null&&a.setOptions(o)},[a,o]),s.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Gt(Gt({},o),{},{data:e,map:i}));return l(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}s.memo(Il);class jl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{heatmapLayer:null}),P(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){le(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),le(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Gt(Gt({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=J({updaterMap:Mo,eventMap:So,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Mo,eventMap:So,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Q(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}P(jl,"contextType",Y);var Po={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Oo={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Rl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{streetViewPanorama:null}),P(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=J({updaterMap:Oo,eventMap:Po,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Oo,eventMap:Po,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Q(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}P(Rl,"contextType",Y);class Tl extends s.PureComponent{constructor(){super(...arguments),P(this,"state",{streetViewService:null}),P(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}P(Tl,"contextType",Y);var ko={onDirectionsChanged:"directions_changed"},Do={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class Al extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{directionsRenderer:null}),P(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=J({updaterMap:Do,eventMap:ko,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:Do,eventMap:ko,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Q(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}P(Al,"contextType",Y);var Io={onPlacesChanged:"places_changed"},jo={bounds(t,e){t.setBounds(e)}};class Nl extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",s.createRef()),P(this,"state",{searchBox:null}),P(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(le(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=J({updaterMap:jo,eventMap:Io,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Q(this.registeredEvents),this.registeredEvents=J({updaterMap:jo,eventMap:Io,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Q(this.registeredEvents))}render(){return y.jsx("div",{ref:this.containerElement,children:s.Children.only(this.props.children)})}}P(Nl,"contextType",Y);var Ro={onPlaceChanged:"place_changed"},To={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class ws extends s.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",s.createRef()),P(this,"state",{autocomplete:null}),P(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;le(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=J({updaterMap:To,eventMap:Ro,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Q(this.registeredEvents),this.registeredEvents=J({updaterMap:To,eventMap:Ro,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Q(this.registeredEvents)}render(){return y.jsx("div",{ref:this.containerElement,className:this.props.className,children:s.Children.only(this.props.children)})}}P(ws,"defaultProps",{className:""});P(ws,"contextType",Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bl=Ee("Check",_l);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ls=Ee("ChevronDown",zl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fl=Ee("ChevronUp",Ul);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Wl=Ee("Navigation",$l);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],En=Ee("PenLine",Hl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zl=Ee("Pencil",Vl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Kl=Ee("Ruler",Gl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yl=Ee("Send",ql);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jl=Ee("Settings",Xl);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xs=Ee("Trash2",Ql);var ec="Label",Cs=s.forwardRef((t,e)=>y.jsx(se.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Cs.displayName=ec;var tc=Cs;function fn({className:t,...e}){return y.jsx(tc,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Ao(t,[e,n]){return Math.min(n,Math.max(e,t))}function nc(t,e=globalThis?.document){const n=Fe(t);s.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rc="DismissableLayer",Sn="dismissableLayer.update",oc="dismissableLayer.pointerDownOutside",sc="dismissableLayer.focusOutside",No,Es=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ss=s.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=s.useContext(Es),[d,f]=s.useState(null),g=d?.ownerDocument??globalThis?.document,[,m]=s.useState({}),p=ue(e,C=>f(C)),h=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),L=h.indexOf(v),b=d?h.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=L,w=lc(C=>{const j=C.target,M=[...u.branches].some(R=>R.contains(j));!x||M||(o?.(C),a?.(C),C.defaultPrevented||l?.())},g),S=cc(C=>{const j=C.target;[...u.branches].some(R=>R.contains(j))||(i?.(C),a?.(C),C.defaultPrevented||l?.())},g);return nc(C=>{b===u.layers.size-1&&(r?.(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),s.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(No=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_o(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=No)}},[d,g,n,u]),s.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_o())},[d,u]),s.useEffect(()=>{const C=()=>m({});return document.addEventListener(Sn,C),()=>document.removeEventListener(Sn,C)},[]),y.jsx(se.div,{...c,ref:p,style:{pointerEvents:E?x?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,w.onPointerDownCapture)})});Ss.displayName=rc;var ic="DismissableLayerBranch",ac=s.forwardRef((t,e)=>{const n=s.useContext(Es),r=s.useRef(null),o=ue(e,r);return s.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(se.div,{...t,ref:o})});ac.displayName=ic;function lc(t,e=globalThis?.document){const n=Fe(t),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Ms(oc,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cc(t,e=globalThis?.document){const n=Fe(t),r=s.useRef(!1);return s.useEffect(()=>{const o=i=>{i.target&&!r.current&&Ms(sc,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _o(){const t=new CustomEvent(Sn);document.dispatchEvent(t)}function Ms(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?_i(o,i):o.dispatchEvent(i)}var pn=0;function uc(){s.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Bo()),document.body.insertAdjacentElement("beforeend",t[1]??Bo()),pn++,()=>{pn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pn--}},[])}function Bo(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hn="focusScope.autoFocusOnMount",gn="focusScope.autoFocusOnUnmount",zo={bubbles:!1,cancelable:!0},dc="FocusScope",Ps=s.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[l,c]=s.useState(null),u=Fe(o),d=Fe(i),f=s.useRef(null),g=ue(e,h=>c(h)),m=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let h=function(E){if(m.paused||!l)return;const x=E.target;l.contains(x)?f.current=x:je(f.current,{select:!0})},v=function(E){if(m.paused||!l)return;const x=E.relatedTarget;x!==null&&(l.contains(x)||je(f.current,{select:!0}))},L=function(E){if(document.activeElement===document.body)for(const w of E)w.removedNodes.length>0&&je(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",v);const b=new MutationObserver(L);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",v),b.disconnect()}}},[r,l,m.paused]),s.useEffect(()=>{if(l){Fo.add(m);const h=document.activeElement;if(!l.contains(h)){const L=new CustomEvent(hn,zo);l.addEventListener(hn,u),l.dispatchEvent(L),L.defaultPrevented||(fc(vc(Os(l)),{select:!0}),document.activeElement===h&&je(l))}return()=>{l.removeEventListener(hn,u),setTimeout(()=>{const L=new CustomEvent(gn,zo);l.addEventListener(gn,d),l.dispatchEvent(L),L.defaultPrevented||je(h??document.body,{select:!0}),l.removeEventListener(gn,d),Fo.remove(m)},0)}}},[l,u,d,m]);const p=s.useCallback(h=>{if(!n&&!r||m.paused)return;const v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,L=document.activeElement;if(v&&L){const b=h.currentTarget,[E,x]=pc(b);E&&x?!h.shiftKey&&L===x?(h.preventDefault(),n&&je(E,{select:!0})):h.shiftKey&&L===E&&(h.preventDefault(),n&&je(x,{select:!0})):L===b&&h.preventDefault()}},[n,r,m.paused]);return y.jsx(se.div,{tabIndex:-1,...a,ref:g,onKeyDown:p})});Ps.displayName=dc;function fc(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(je(r,{select:e}),document.activeElement!==n)return}function pc(t){const e=Os(t),n=Uo(e,t),r=Uo(e.reverse(),t);return[n,r]}function Os(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uo(t,e){for(const n of t)if(!hc(n,{upTo:e}))return n}function hc(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gc(t){return t instanceof HTMLInputElement&&"select"in t}function je(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gc(t)&&e&&t.select()}}var Fo=mc();function mc(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=$o(t,e),t.unshift(e)},remove(e){t=$o(t,e),t[0]?.resume()}}}function $o(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vc(t){return t.filter(e=>e.tagName!=="A")}const yc=["top","right","bottom","left"],Ae=Math.min,pe=Math.max,Kt=Math.round,It=Math.floor,xe=t=>({x:t,y:t}),bc={left:"right",right:"left",bottom:"top",top:"bottom"},wc={start:"end",end:"start"};function Mn(t,e,n){return pe(t,Ae(e,n))}function Me(t,e){return typeof t=="function"?t(e):t}function Pe(t){return t.split("-")[0]}function nt(t){return t.split("-")[1]}function Un(t){return t==="x"?"y":"x"}function Fn(t){return t==="y"?"height":"width"}const Lc=new Set(["top","bottom"]);function Le(t){return Lc.has(Pe(t))?"y":"x"}function $n(t){return Un(Le(t))}function xc(t,e,n){n===void 0&&(n=!1);const r=nt(t),o=$n(t),i=Fn(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=qt(a)),[a,qt(a)]}function Cc(t){const e=qt(t);return[Pn(t),e,Pn(e)]}function Pn(t){return t.replace(/start|end/g,e=>wc[e])}const Wo=["left","right"],Ho=["right","left"],Ec=["top","bottom"],Sc=["bottom","top"];function Mc(t,e,n){switch(t){case"top":case"bottom":return n?e?Ho:Wo:e?Wo:Ho;case"left":case"right":return e?Ec:Sc;default:return[]}}function Pc(t,e,n,r){const o=nt(t);let i=Mc(Pe(t),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(Pn)))),i}function qt(t){return t.replace(/left|right|bottom|top/g,e=>bc[e])}function Oc(t){return{top:0,right:0,bottom:0,left:0,...t}}function ks(t){return typeof t!="number"?Oc(t):{top:t,right:t,bottom:t,left:t}}function Yt(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Vo(t,e,n){let{reference:r,floating:o}=t;const i=Le(e),a=$n(e),l=Fn(a),c=Pe(e),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,g=r[l]/2-o[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(nt(e)){case"start":m[a]-=g*(n&&u?-1:1);break;case"end":m[a]+=g*(n&&u?-1:1);break}return m}const kc=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:f}=Vo(u,r,c),g=r,m={},p=0;for(let h=0;h<l.length;h++){const{name:v,fn:L}=l[h],{x:b,y:E,data:x,reset:w}=await L({x:d,y:f,initialPlacement:r,placement:g,strategy:o,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=b??d,f=E??f,m={...m,[v]:{...m[v],...x}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(g=w.placement),w.rects&&(u=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):w.rects),{x:d,y:f}=Vo(u,g,c)),h=-1)}return{x:d,y:f,placement:g,strategy:o,middlewareData:m}};async function pt(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=Me(e,t),p=ks(m),v=l[g?f==="floating"?"reference":"floating":f],L=Yt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},w=Yt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:E,strategy:c}):b);return{top:(L.top-w.top+p.top)/x.y,bottom:(w.bottom-L.bottom+p.bottom)/x.y,left:(L.left-w.left+p.left)/x.x,right:(w.right-L.right+p.right)/x.x}}const Dc=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Me(t,e)||{};if(u==null)return{};const f=ks(d),g={x:n,y:r},m=$n(o),p=Fn(m),h=await a.getDimensions(u),v=m==="y",L=v?"top":"left",b=v?"bottom":"right",E=v?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[m]-g[m]-i.floating[p],w=g[m]-i.reference[m],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=S?S[E]:0;(!C||!await(a.isElement==null?void 0:a.isElement(S)))&&(C=l.floating[E]||i.floating[p]);const j=x/2-w/2,M=C/2-h[p]/2-1,R=Ae(f[L],M),T=Ae(f[b],M),U=R,$=C-h[p]-T,_=C/2-h[p]/2+j,F=Mn(U,_,$),k=!c.arrow&&nt(o)!=null&&_!==F&&i.reference[p]/2-(_<U?R:T)-h[p]/2<0,D=k?_<U?_-U:_-$:0;return{[m]:g[m]+D,data:{[m]:F,centerOffset:_-F-D,...k&&{alignmentOffset:D}},reset:k}}}),Ic=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...v}=Me(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const L=Pe(o),b=Le(l),E=Pe(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=g||(E||!h?[qt(l)]:Cc(l)),S=p!=="none";!g&&S&&w.push(...Pc(l,h,p,x));const C=[l,...w],j=await pt(e,v),M=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&M.push(j[L]),f){const _=xc(o,a,x);M.push(j[_[0]],j[_[1]])}if(R=[...R,{placement:o,overflows:M}],!M.every(_=>_<=0)){var T,U;const _=(((T=i.flip)==null?void 0:T.index)||0)+1,F=C[_];if(F&&(!(f==="alignment"?b!==Le(F):!1)||R.every(I=>Le(I.placement)===b?I.overflows[0]>0:!0)))return{data:{index:_,overflows:R},reset:{placement:F}};let k=(U=R.filter(D=>D.overflows[0]<=0).sort((D,I)=>D.overflows[1]-I.overflows[1])[0])==null?void 0:U.placement;if(!k)switch(m){case"bestFit":{var $;const D=($=R.filter(I=>{if(S){const A=Le(I.placement);return A===b||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,z)=>A+z,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:$[0];D&&(k=D);break}case"initialPlacement":k=l;break}if(o!==k)return{reset:{placement:k}}}return{}}}};function Zo(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Go(t){return yc.some(e=>t[e]>=0)}const jc=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Me(t,e);switch(r){case"referenceHidden":{const i=await pt(e,{...o,elementContext:"reference"}),a=Zo(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Go(a)}}}case"escaped":{const i=await pt(e,{...o,altBoundary:!0}),a=Zo(i,n.floating);return{data:{escapedOffsets:a,escaped:Go(a)}}}default:return{}}}}},Ds=new Set(["left","top"]);async function Rc(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Pe(n),l=nt(n),c=Le(n)==="y",u=Ds.has(a)?-1:1,d=i&&c?-1:1,f=Me(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const Tc=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=e,c=await Rc(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},Ac=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:L,y:b}=v;return{x:L,y:b}}},...c}=Me(t,e),u={x:n,y:r},d=await pt(e,c),f=Le(Pe(o)),g=Un(f);let m=u[g],p=u[f];if(i){const v=g==="y"?"top":"left",L=g==="y"?"bottom":"right",b=m+d[v],E=m-d[L];m=Mn(b,m,E)}if(a){const v=f==="y"?"top":"left",L=f==="y"?"bottom":"right",b=p+d[v],E=p-d[L];p=Mn(b,p,E)}const h=l.fn({...e,[g]:m,[f]:p});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[g]:i,[f]:a}}}}}},Nc=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Me(t,e),d={x:n,y:r},f=Le(o),g=Un(f);let m=d[g],p=d[f];const h=Me(l,e),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const E=g==="y"?"height":"width",x=i.reference[g]-i.floating[E]+v.mainAxis,w=i.reference[g]+i.reference[E]-v.mainAxis;m<x?m=x:m>w&&(m=w)}if(u){var L,b;const E=g==="y"?"width":"height",x=Ds.has(Pe(o)),w=i.reference[f]-i.floating[E]+(x&&((L=a.offset)==null?void 0:L[f])||0)+(x?0:v.crossAxis),S=i.reference[f]+i.reference[E]+(x?0:((b=a.offset)==null?void 0:b[f])||0)-(x?v.crossAxis:0);p<w?p=w:p>S&&(p=S)}return{[g]:m,[f]:p}}}},_c=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Me(t,e),d=await pt(e,u),f=Pe(o),g=nt(o),m=Le(o)==="y",{width:p,height:h}=i.floating;let v,L;f==="top"||f==="bottom"?(v=f,L=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(L=f,v=g==="end"?"top":"bottom");const b=h-d.top-d.bottom,E=p-d.left-d.right,x=Ae(h-d[v],b),w=Ae(p-d[L],E),S=!e.middlewareData.shift;let C=x,j=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!g){const R=pe(d.left,0),T=pe(d.right,0),U=pe(d.top,0),$=pe(d.bottom,0);m?j=p-2*(R!==0||T!==0?R+T:pe(d.left,d.right)):C=h-2*(U!==0||$!==0?U+$:pe(d.top,d.bottom))}await c({...e,availableWidth:j,availableHeight:C});const M=await a.getDimensions(l.floating);return p!==M.width||h!==M.height?{reset:{rects:!0}}:{}}}};function Qt(){return typeof window<"u"}function rt(t){return Is(t)?(t.nodeName||"").toLowerCase():"#document"}function he(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Se(t){var e;return(e=(Is(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Is(t){return Qt()?t instanceof Node||t instanceof he(t).Node:!1}function ye(t){return Qt()?t instanceof Element||t instanceof he(t).Element:!1}function Ce(t){return Qt()?t instanceof HTMLElement||t instanceof he(t).HTMLElement:!1}function Ko(t){return!Qt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof he(t).ShadowRoot}const Bc=new Set(["inline","contents"]);function gt(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=be(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Bc.has(o)}const zc=new Set(["table","td","th"]);function Uc(t){return zc.has(rt(t))}const Fc=[":popover-open",":modal"];function en(t){return Fc.some(e=>{try{return t.matches(e)}catch{return!1}})}const $c=["transform","translate","scale","rotate","perspective"],Wc=["transform","translate","scale","rotate","perspective","filter"],Hc=["paint","layout","strict","content"];function Wn(t){const e=Hn(),n=ye(t)?be(t):t;return $c.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Wc.some(r=>(n.willChange||"").includes(r))||Hc.some(r=>(n.contain||"").includes(r))}function Vc(t){let e=Ne(t);for(;Ce(e)&&!et(e);){if(Wn(e))return e;if(en(e))return null;e=Ne(e)}return null}function Hn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zc=new Set(["html","body","#document"]);function et(t){return Zc.has(rt(t))}function be(t){return he(t).getComputedStyle(t)}function tn(t){return ye(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ne(t){if(rt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ko(t)&&t.host||Se(t);return Ko(e)?e.host:e}function js(t){const e=Ne(t);return et(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ce(e)&&gt(e)?e:js(e)}function ht(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=js(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),a=he(o);if(i){const l=On(a);return e.concat(a,a.visualViewport||[],gt(o)?o:[],l&&n?ht(l):[])}return e.concat(o,ht(o,[],n))}function On(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rs(t){const e=be(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ce(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,l=Kt(n)!==i||Kt(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Vn(t){return ye(t)?t:t.contextElement}function Je(t){const e=Vn(t);if(!Ce(e))return xe(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=Rs(e);let a=(i?Kt(n.width):n.width)/r,l=(i?Kt(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Gc=xe(0);function Ts(t){const e=he(t);return!Hn()||!e.visualViewport?Gc:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kc(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==he(t)?!1:e}function We(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=Vn(t);let a=xe(1);e&&(r?ye(r)&&(a=Je(r)):a=Je(t));const l=Kc(i,n,r)?Ts(i):xe(0);let c=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,d=o.width/a.x,f=o.height/a.y;if(i){const g=he(i),m=r&&ye(r)?he(r):r;let p=g,h=On(p);for(;h&&r&&m!==p;){const v=Je(h),L=h.getBoundingClientRect(),b=be(h),E=L.left+(h.clientLeft+parseFloat(b.paddingLeft))*v.x,x=L.top+(h.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=E,u+=x,p=he(h),h=On(p)}}return Yt({width:d,height:f,x:c,y:u})}function Zn(t,e){const n=tn(t).scrollLeft;return e?e.left+n:We(Se(t)).left+n}function As(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:Zn(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function qc(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",a=Se(r),l=e?en(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=xe(1);const d=xe(0),f=Ce(r);if((f||!f&&!i)&&((rt(r)!=="body"||gt(a))&&(c=tn(r)),Ce(r))){const m=We(r);u=Je(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const g=a&&!f&&!i?As(a,c,!0):xe(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function Yc(t){return Array.from(t.getClientRects())}function Xc(t){const e=Se(t),n=tn(t),r=t.ownerDocument.body,o=pe(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pe(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Zn(t);const l=-n.scrollTop;return be(r).direction==="rtl"&&(a+=pe(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}function Jc(t,e){const n=he(t),r=Se(t),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){i=o.width,a=o.height;const u=Hn();(!u||u&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:l,y:c}}const Qc=new Set(["absolute","fixed"]);function eu(t,e){const n=We(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Ce(t)?Je(t):xe(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function qo(t,e,n){let r;if(e==="viewport")r=Jc(t,n);else if(e==="document")r=Xc(Se(t));else if(ye(e))r=eu(e,n);else{const o=Ts(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Yt(r)}function Ns(t,e){const n=Ne(t);return n===e||!ye(n)||et(n)?!1:be(n).position==="fixed"||Ns(n,e)}function tu(t,e){const n=e.get(t);if(n)return n;let r=ht(t,[],!1).filter(l=>ye(l)&&rt(l)!=="body"),o=null;const i=be(t).position==="fixed";let a=i?Ne(t):t;for(;ye(a)&&!et(a);){const l=be(a),c=Wn(a);!c&&l.position==="fixed"&&(o=null),(i?!c&&!o:!c&&l.position==="static"&&!!o&&Qc.has(o.position)||gt(a)&&!c&&Ns(t,a))?r=r.filter(d=>d!==a):o=l,a=Ne(a)}return e.set(t,r),r}function nu(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const a=[...n==="clippingAncestors"?en(e)?[]:tu(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=qo(e,d,o);return u.top=pe(f.top,u.top),u.right=Ae(f.right,u.right),u.bottom=Ae(f.bottom,u.bottom),u.left=pe(f.left,u.left),u},qo(e,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ru(t){const{width:e,height:n}=Rs(t);return{width:e,height:n}}function ou(t,e,n){const r=Ce(e),o=Se(e),i=n==="fixed",a=We(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=xe(0);function u(){c.x=Zn(o)}if(r||!r&&!i)if((rt(e)!=="body"||gt(o))&&(l=tn(e)),r){const m=We(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else o&&u();i&&!r&&o&&u();const d=o&&!r&&!i?As(o,l):xe(0),f=a.left+l.scrollLeft-c.x-d.x,g=a.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:a.width,height:a.height}}function mn(t){return be(t).position==="static"}function Yo(t,e){if(!Ce(t)||be(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Se(t)===n&&(n=n.ownerDocument.body),n}function _s(t,e){const n=he(t);if(en(t))return n;if(!Ce(t)){let o=Ne(t);for(;o&&!et(o);){if(ye(o)&&!mn(o))return o;o=Ne(o)}return n}let r=Yo(t,e);for(;r&&Uc(r)&&mn(r);)r=Yo(r,e);return r&&et(r)&&mn(r)&&!Wn(r)?n:r||Vc(t)||n}const su=async function(t){const e=this.getOffsetParent||_s,n=this.getDimensions,r=await n(t.floating);return{reference:ou(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iu(t){return be(t).direction==="rtl"}const au={convertOffsetParentRelativeRectToViewportRelativeRect:qc,getDocumentElement:Se,getClippingRect:nu,getOffsetParent:_s,getElementRects:su,getClientRects:Yc,getDimensions:ru,getScale:Je,isElement:ye,isRTL:iu};function Bs(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lu(t,e){let n=null,r;const o=Se(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:m}=u;if(l||e(),!g||!m)return;const p=It(f),h=It(o.clientWidth-(d+g)),v=It(o.clientHeight-(f+m)),L=It(d),E={rootMargin:-p+"px "+-h+"px "+-v+"px "+-L+"px",threshold:pe(0,Ae(1,c))||1};let x=!0;function w(S){const C=S[0].intersectionRatio;if(C!==c){if(!x)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!Bs(u,t.getBoundingClientRect())&&a(),x=!1}try{n=new IntersectionObserver(w,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,E)}n.observe(t)}return a(!0),i}function cu(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Vn(t),d=o||i?[...u?ht(u):[],...ht(e)]:[];d.forEach(L=>{o&&L.addEventListener("scroll",n,{passive:!0}),i&&L.addEventListener("resize",n)});const f=u&&l?lu(u,n):null;let g=-1,m=null;a&&(m=new ResizeObserver(L=>{let[b]=L;b&&b.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let p,h=c?We(t):null;c&&v();function v(){const L=We(t);h&&!Bs(h,L)&&n(),h=L,p=requestAnimationFrame(v)}return n(),()=>{var L;d.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f?.(),(L=m)==null||L.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const uu=Tc,du=Ac,fu=Ic,pu=_c,hu=jc,Xo=Dc,gu=Nc,mu=(t,e,n)=>{const r=new Map,o={platform:au,...n},i={...o.platform,_c:r};return kc(t,e,{...o,platform:i})};var vu=typeof document<"u",yu=function(){},Nt=vu?s.useLayoutEffect:yu;function Xt(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xt(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!Xt(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zs(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Jo(t,e){const n=zs(t);return Math.round(e*n)/n}function vn(t){const e=s.useRef(t);return Nt(()=>{e.current=t}),e}function bu(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=s.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=s.useState(r);Xt(g,r)||m(r);const[p,h]=s.useState(null),[v,L]=s.useState(null),b=s.useCallback(I=>{I!==S.current&&(S.current=I,h(I))},[]),E=s.useCallback(I=>{I!==C.current&&(C.current=I,L(I))},[]),x=i||p,w=a||v,S=s.useRef(null),C=s.useRef(null),j=s.useRef(d),M=c!=null,R=vn(c),T=vn(o),U=vn(u),$=s.useCallback(()=>{if(!S.current||!C.current)return;const I={placement:e,strategy:n,middleware:g};T.current&&(I.platform=T.current),mu(S.current,C.current,I).then(A=>{const z={...A,isPositioned:U.current!==!1};_.current&&!Xt(j.current,z)&&(j.current=z,Oe.flushSync(()=>{f(z)}))})},[g,e,n,T,U]);Nt(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const _=s.useRef(!1);Nt(()=>(_.current=!0,()=>{_.current=!1}),[]),Nt(()=>{if(x&&(S.current=x),w&&(C.current=w),x&&w){if(R.current)return R.current(x,w,$);$()}},[x,w,$,R,M]);const F=s.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:E}),[b,E]),k=s.useMemo(()=>({reference:x,floating:w}),[x,w]),D=s.useMemo(()=>{const I={position:n,left:0,top:0};if(!k.floating)return I;const A=Jo(k.floating,d.x),z=Jo(k.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+z+"px)",...zs(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:z}},[n,l,k.floating,d.x,d.y]);return s.useMemo(()=>({...d,update:$,refs:F,elements:k,floatingStyles:D}),[d,$,F,k,D])}const wu=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Xo({element:r.current,padding:o}).fn(n):{}:r?Xo({element:r,padding:o}).fn(n):{}}}},Lu=(t,e)=>({...uu(t),options:[t,e]}),xu=(t,e)=>({...du(t),options:[t,e]}),Cu=(t,e)=>({...gu(t),options:[t,e]}),Eu=(t,e)=>({...fu(t),options:[t,e]}),Su=(t,e)=>({...pu(t),options:[t,e]}),Mu=(t,e)=>({...hu(t),options:[t,e]}),Pu=(t,e)=>({...wu(t),options:[t,e]});var Ou="Arrow",Us=s.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...i}=t;return y.jsx(se.svg,{...i,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});Us.displayName=Ou;var ku=Us;function Du(t){const[e,n]=s.useState(void 0);return me(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Gn="Popper",[Fs,$s]=os(Gn),[Iu,Ws]=Fs(Gn),Hs=t=>{const{__scopePopper:e,children:n}=t,[r,o]=s.useState(null);return y.jsx(Iu,{scope:e,anchor:r,onAnchorChange:o,children:n})};Hs.displayName=Gn;var Vs="PopperAnchor",Zs=s.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=Ws(Vs,n),a=s.useRef(null),l=ue(e,a),c=s.useRef(null);return s.useEffect(()=>{const u=c.current;c.current=r?.current||a.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:y.jsx(se.div,{...o,ref:l})});Zs.displayName=Vs;var Kn="PopperContent",[ju,Ru]=Fs(Kn),Gs=s.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:p,...h}=t,v=Ws(Kn,n),[L,b]=s.useState(null),E=ue(e,B=>b(B)),[x,w]=s.useState(null),S=Du(x),C=S?.width??0,j=S?.height??0,M=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],U=T.length>0,$={padding:R,boundary:T.filter(Au),altBoundary:U},{refs:_,floatingStyles:F,placement:k,isPositioned:D,middlewareData:I}=bu({strategy:"fixed",placement:M,whileElementsMounted:(...B)=>cu(...B,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Lu({mainAxis:o+j,alignmentAxis:a}),c&&xu({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cu():void 0,...$}),c&&Eu({...$}),Su({...$,apply:({elements:B,rects:W,availableWidth:X,availableHeight:N})=>{const{width:V,height:te}=W.reference,oe=B.floating.style;oe.setProperty("--radix-popper-available-width",`${X}px`),oe.setProperty("--radix-popper-available-height",`${N}px`),oe.setProperty("--radix-popper-anchor-width",`${V}px`),oe.setProperty("--radix-popper-anchor-height",`${te}px`)}}),x&&Pu({element:x,padding:l}),Nu({arrowWidth:C,arrowHeight:j}),g&&Mu({strategy:"referenceHidden",...$})]}),[A,z]=Ys(k),Z=Fe(p);me(()=>{D&&Z?.()},[D,Z]);const G=I.arrow?.x,H=I.arrow?.y,K=I.arrow?.centerOffset!==0,[O,ee]=s.useState();return me(()=>{L&&ee(window.getComputedStyle(L).zIndex)},[L]),y.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:D?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(ju,{scope:n,placedSide:A,onArrowChange:w,arrowX:G,arrowY:H,shouldHideArrow:K,children:y.jsx(se.div,{"data-side":A,"data-align":z,...h,ref:E,style:{...h.style,animation:D?void 0:"none"}})})})});Gs.displayName=Kn;var Ks="PopperArrow",Tu={top:"bottom",right:"left",bottom:"top",left:"right"},qs=s.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,i=Ru(Ks,r),a=Tu[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(ku,{...o,ref:n,style:{...o.style,display:"block"}})})});qs.displayName=Ks;function Au(t){return t!==null}var Nu=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:o}=e,a=o.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Ys(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(o.arrow?.x??0)+l/2,m=(o.arrow?.y??0)+c/2;let p="",h="";return u==="bottom"?(p=a?f:`${g}px`,h=`${-c}px`):u==="top"?(p=a?f:`${g}px`,h=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,h=a?f:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,h=a?f:`${m}px`),{data:{x:p,y:h}}}});function Ys(t){const[e,n="center"]=t.split("-");return[e,n]}var _u=Hs,Bu=Zs,zu=Gs,Uu=qs,Fu="Portal",Xs=s.forwardRef((t,e)=>{const{container:n,...r}=t,[o,i]=s.useState(!1);me(()=>i(!0),[]);const a=n||o&&globalThis?.document?.body;return a?Bi.createPortal(y.jsx(se.div,{...r,ref:e}),a):null});Xs.displayName=Fu;function $u(t){const e=s.useRef({value:t,previous:t});return s.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Js=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wu="VisuallyHidden",Hu=s.forwardRef((t,e)=>y.jsx(se.span,{...t,ref:e,style:{...Js,...t.style}}));Hu.displayName=Wu;var Vu=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ge=new WeakMap,jt=new WeakMap,Rt={},yn=0,Qs=function(t){return t&&(t.host||Qs(t.parentNode))},Zu=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Qs(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Gu=function(t,e,n,r){var o=Zu(e,Array.isArray(t)?t:[t]);Rt[n]||(Rt[n]=new WeakMap);var i=Rt[n],a=[],l=new Set,c=new Set(o),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};o.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var m=g.getAttribute(r),p=m!==null&&m!=="false",h=(Ge.get(g)||0)+1,v=(i.get(g)||0)+1;Ge.set(g,h),i.set(g,v),a.push(g),h===1&&p&&jt.set(g,!0),v===1&&g.setAttribute(n,"true"),p||g.setAttribute(r,"true")}catch(L){console.error("aria-hidden: cannot operate on ",g,L)}})};return d(e),l.clear(),yn++,function(){a.forEach(function(f){var g=Ge.get(f)-1,m=i.get(f)-1;Ge.set(f,g),i.set(f,m),g||(jt.has(f)||f.removeAttribute(r),jt.delete(f)),m||f.removeAttribute(n)}),yn--,yn||(Ge=new WeakMap,Ge=new WeakMap,jt=new WeakMap,Rt={})}},Ku=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=Vu(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Gu(r,o,n,"aria-hidden")):function(){return null}},we=function(){return we=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},we.apply(this,arguments)};function ei(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function qu(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var _t="right-scroll-bar-position",Bt="width-before-scroll-bar",Yu="with-scroll-bars-hidden",Xu="--removed-body-scroll-bar-size";function bn(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ju(t,e){var n=s.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var Qu=typeof window<"u"?s.useLayoutEffect:s.useEffect,Qo=new WeakMap;function ed(t,e){var n=Ju(null,function(r){return t.forEach(function(o){return bn(o,r)})});return Qu(function(){var r=Qo.get(n);if(r){var o=new Set(r),i=new Set(t),a=n.current;o.forEach(function(l){i.has(l)||bn(l,null)}),i.forEach(function(l){o.has(l)||bn(l,a)})}Qo.set(n,t)},[t]),n}function td(t){return t}function nd(t,e){e===void 0&&(e=td);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return o}function rd(t){t===void 0&&(t={});var e=nd(null);return e.options=we({async:!0,ssr:!1},t),e}var ti=function(t){var e=t.sideCar,n=ei(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,we({},n))};ti.isSideCarExport=!0;function od(t,e){return t.useMedium(e),ti}var ni=rd(),wn=function(){},nn=s.forwardRef(function(t,e){var n=s.useRef(null),r=s.useState({onScrollCapture:wn,onWheelCapture:wn,onTouchMoveCapture:wn}),o=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,m=t.noRelative,p=t.noIsolation,h=t.inert,v=t.allowPinchZoom,L=t.as,b=L===void 0?"div":L,E=t.gapMode,x=ei(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=g,S=ed([n,e]),C=we(we({},x),o);return s.createElement(s.Fragment,null,d&&s.createElement(w,{sideCar:ni,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:E}),a?s.cloneElement(s.Children.only(l),we(we({},C),{ref:S})):s.createElement(b,we({},C,{className:c,ref:S}),l))});nn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nn.classNames={fullWidth:Bt,zeroRight:_t};var sd=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function id(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sd();return e&&t.setAttribute("nonce",e),t}function ad(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ld(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cd=function(){var t=0,e=null;return{add:function(n){t==0&&(e=id())&&(ad(e,n),ld(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ud=function(){var t=cd();return function(e,n){s.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ri=function(){var t=ud(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},dd={left:0,top:0,right:0,gap:0},Ln=function(t){return parseInt(t||"",10)||0},fd=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Ln(n),Ln(r),Ln(o)]},pd=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dd;var e=fd(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hd=ri(),Qe="data-scroll-locked",gd=function(t,e,n,r){var o=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Yu,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Qe,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_t,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Bt,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(_t," .").concat(_t,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bt," .").concat(Bt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qe,`] {
    `).concat(Xu,": ").concat(l,`px;
  }
`)},es=function(){var t=parseInt(document.body.getAttribute(Qe)||"0",10);return isFinite(t)?t:0},md=function(){s.useEffect(function(){return document.body.setAttribute(Qe,(es()+1).toString()),function(){var t=es()-1;t<=0?document.body.removeAttribute(Qe):document.body.setAttribute(Qe,t.toString())}},[])},vd=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;md();var i=s.useMemo(function(){return pd(o)},[o]);return s.createElement(hd,{styles:gd(i,!e,o,n?"":"!important")})},kn=!1;if(typeof window<"u")try{var Tt=Object.defineProperty({},"passive",{get:function(){return kn=!0,!0}});window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{kn=!1}var Ke=kn?{passive:!1}:!1,yd=function(t){return t.tagName==="TEXTAREA"},oi=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yd(t)&&n[e]==="visible")},bd=function(t){return oi(t,"overflowY")},wd=function(t){return oi(t,"overflowX")},ts=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=si(t,r);if(o){var i=ii(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ld=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xd=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},si=function(t,e){return t==="v"?bd(e):wd(e)},ii=function(t,e){return t==="v"?Ld(e):xd(e)},Cd=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ed=function(t,e,n,r,o){var i=Cd(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,g=0;do{if(!l)break;var m=ii(t,l),p=m[0],h=m[1],v=m[2],L=h-v-i*p;(p||L)&&si(t,l)&&(f+=L,g+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(u=!0),u},At=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ns=function(t){return[t.deltaX,t.deltaY]},rs=function(t){return t&&"current"in t?t.current:t},Sd=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Md=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Pd=0,qe=[];function Od(t){var e=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),o=s.useState(Pd++)[0],i=s.useState(ri)[0],a=s.useRef(t);s.useEffect(function(){a.current=t},[t]),s.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var h=qu([t.lockRef.current],(t.shards||[]).map(rs),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var l=s.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var L=At(h),b=n.current,E="deltaX"in h?h.deltaX:b[0]-L[0],x="deltaY"in h?h.deltaY:b[1]-L[1],w,S=h.target,C=Math.abs(E)>Math.abs(x)?"h":"v";if("touches"in h&&C==="h"&&S.type==="range")return!1;var j=ts(C,S);if(!j)return!0;if(j?w=C:(w=C==="v"?"h":"v",j=ts(C,S)),!j)return!1;if(!r.current&&"changedTouches"in h&&(E||x)&&(r.current=w),!w)return!0;var M=r.current||w;return Ed(M,v,h,M==="h"?E:x)},[]),c=s.useCallback(function(h){var v=h;if(!(!qe.length||qe[qe.length-1]!==i)){var L="deltaY"in v?ns(v):At(v),b=e.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&Sd(w.delta,L)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var E=(a.current.shards||[]).map(rs).filter(Boolean).filter(function(w){return w.contains(v.target)}),x=E.length>0?l(v,E[0]):!a.current.noIsolation;x&&v.cancelable&&v.preventDefault()}}},[]),u=s.useCallback(function(h,v,L,b){var E={name:h,delta:v,target:L,should:b,shadowParent:kd(L)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(x){return x!==E})},1)},[]),d=s.useCallback(function(h){n.current=At(h),r.current=void 0},[]),f=s.useCallback(function(h){u(h.type,ns(h),h.target,l(h,t.lockRef.current))},[]),g=s.useCallback(function(h){u(h.type,At(h),h.target,l(h,t.lockRef.current))},[]);s.useEffect(function(){return qe.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ke),document.addEventListener("touchmove",c,Ke),document.addEventListener("touchstart",d,Ke),function(){qe=qe.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,Ke),document.removeEventListener("touchmove",c,Ke),document.removeEventListener("touchstart",d,Ke)}},[]);var m=t.removeScrollBar,p=t.inert;return s.createElement(s.Fragment,null,p?s.createElement(i,{styles:Md(o)}):null,m?s.createElement(vd,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kd(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Dd=od(ni,Od);var ai=s.forwardRef(function(t,e){return s.createElement(nn,we({},t,{ref:e,sideCar:Dd}))});ai.classNames=nn.classNames;var Id=[" ","Enter","ArrowUp","ArrowDown"],jd=[" ","Enter"],He="Select",[rn,on,Rd]=Ui(He),[ot,Tf]=os(He,[Rd,$s]),sn=$s(),[Td,_e]=ot(He),[Ad,Nd]=ot(He),li=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:m,form:p}=t,h=sn(e),[v,L]=s.useState(null),[b,E]=s.useState(null),[x,w]=s.useState(!1),S=zi(u),[C,j]=hr({prop:r,defaultProp:o??!1,onChange:i,caller:He}),[M,R]=hr({prop:a,defaultProp:l,onChange:c,caller:He}),T=s.useRef(null),U=v?p||!!v.closest("form"):!0,[$,_]=s.useState(new Set),F=Array.from($).map(k=>k.props.value).join(";");return y.jsx(_u,{...h,children:y.jsxs(Td,{required:m,scope:e,trigger:v,onTriggerChange:L,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:x,onValueNodeHasChildrenChange:w,contentId:An(),value:M,onValueChange:R,open:C,onOpenChange:j,dir:S,triggerPointerDownPosRef:T,disabled:g,children:[y.jsx(rn.Provider,{scope:e,children:y.jsx(Ad,{scope:t.__scopeSelect,onNativeOptionAdd:s.useCallback(k=>{_(D=>new Set(D).add(k))},[]),onNativeOptionRemove:s.useCallback(k=>{_(D=>{const I=new Set(D);return I.delete(k),I})},[]),children:n})}),U?y.jsxs(Di,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:k=>R(k.target.value),disabled:g,form:p,children:[M===void 0?y.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};li.displayName=He;var ci="SelectTrigger",ui=s.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,i=sn(n),a=_e(ci,n),l=a.disabled||r,c=ue(e,a.onTriggerChange),u=on(n),d=s.useRef("touch"),[f,g,m]=ji(h=>{const v=u().filter(E=>!E.disabled),L=v.find(E=>E.value===a.value),b=Ri(v,h,L);b!==void 0&&a.onValueChange(b.value)}),p=h=>{l||(a.onOpenChange(!0),m()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return y.jsx(Bu,{asChild:!0,...i,children:y.jsx(se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ii(a.value)?"":void 0,...o,ref:c,onClick:ie(o.onClick,h=>{h.currentTarget.focus(),d.current!=="mouse"&&p(h)}),onPointerDown:ie(o.onPointerDown,h=>{d.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(p(h),h.preventDefault())}),onKeyDown:ie(o.onKeyDown,h=>{const v=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&g(h.key),!(v&&h.key===" ")&&Id.includes(h.key)&&(p(),h.preventDefault())})})})});ui.displayName=ci;var di="SelectValue",fi=s.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:a="",...l}=t,c=_e(di,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ue(e,c.onValueNodeChange);return me(()=>{u(d)},[u,d]),y.jsx(se.span,{...l,ref:f,style:{pointerEvents:"none"},children:Ii(c.value)?y.jsx(y.Fragment,{children:a}):i})});fi.displayName=di;var _d="SelectIcon",pi=s.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return y.jsx(se.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});pi.displayName=_d;var Bd="SelectPortal",hi=t=>y.jsx(Xs,{asChild:!0,...t});hi.displayName=Bd;var Ve="SelectContent",gi=s.forwardRef((t,e)=>{const n=_e(Ve,t.__scopeSelect),[r,o]=s.useState();if(me(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?Oe.createPortal(y.jsx(mi,{scope:t.__scopeSelect,children:y.jsx(rn.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),i):null}return y.jsx(vi,{...t,ref:e})});gi.displayName=Ve;var ve=10,[mi,Be]=ot(Ve),zd="SelectContentImpl",Ud=Wi("SelectContent.RemoveScroll"),vi=s.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:v,...L}=t,b=_e(Ve,n),[E,x]=s.useState(null),[w,S]=s.useState(null),C=ue(e,B=>x(B)),[j,M]=s.useState(null),[R,T]=s.useState(null),U=on(n),[$,_]=s.useState(!1),F=s.useRef(!1);s.useEffect(()=>{if(E)return Ku(E)},[E]),uc();const k=s.useCallback(B=>{const[W,...X]=U().map(te=>te.ref.current),[N]=X.slice(-1),V=document.activeElement;for(const te of B)if(te===V||(te?.scrollIntoView({block:"nearest"}),te===W&&w&&(w.scrollTop=0),te===N&&w&&(w.scrollTop=w.scrollHeight),te?.focus(),document.activeElement!==V))return},[U,w]),D=s.useCallback(()=>k([j,E]),[k,j,E]);s.useEffect(()=>{$&&D()},[$,D]);const{onOpenChange:I,triggerPointerDownPosRef:A}=b;s.useEffect(()=>{if(E){let B={x:0,y:0};const W=N=>{B={x:Math.abs(Math.round(N.pageX)-(A.current?.x??0)),y:Math.abs(Math.round(N.pageY)-(A.current?.y??0))}},X=N=>{B.x<=10&&B.y<=10?N.preventDefault():E.contains(N.target)||I(!1),document.removeEventListener("pointermove",W),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",X,{capture:!0})}}},[E,I,A]),s.useEffect(()=>{const B=()=>I(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[I]);const[z,Z]=ji(B=>{const W=U().filter(V=>!V.disabled),X=W.find(V=>V.ref.current===document.activeElement),N=Ri(W,B,X);N&&setTimeout(()=>N.ref.current.focus())}),G=s.useCallback((B,W,X)=>{const N=!F.current&&!X;(b.value!==void 0&&b.value===W||N)&&(M(B),N&&(F.current=!0))},[b.value]),H=s.useCallback(()=>E?.focus(),[E]),K=s.useCallback((B,W,X)=>{const N=!F.current&&!X;(b.value!==void 0&&b.value===W||N)&&T(B)},[b.value]),O=r==="popper"?Dn:yi,ee=O===Dn?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:v}:{};return y.jsx(mi,{scope:n,content:E,viewport:w,onViewportChange:S,itemRefCallback:G,selectedItem:j,onItemLeave:H,itemTextRefCallback:K,focusSelectedItem:D,selectedItemText:R,position:r,isPositioned:$,searchRef:z,children:y.jsx(ai,{as:Ud,allowPinchZoom:!0,children:y.jsx(Ps,{asChild:!0,trapped:b.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:ie(o,B=>{b.trigger?.focus({preventScroll:!0}),B.preventDefault()}),children:y.jsx(Ss,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:y.jsx(O,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:B=>B.preventDefault(),...L,...ee,onPlaced:()=>_(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:ie(L.onKeyDown,B=>{const W=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!W&&B.key.length===1&&Z(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let N=U().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(B.key)&&(N=N.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const V=B.target,te=N.indexOf(V);N=N.slice(te+1)}setTimeout(()=>k(N)),B.preventDefault()}})})})})})})});vi.displayName=zd;var Fd="SelectItemAlignedPosition",yi=s.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,i=_e(Ve,n),a=Be(Ve,n),[l,c]=s.useState(null),[u,d]=s.useState(null),f=ue(e,C=>d(C)),g=on(n),m=s.useRef(!1),p=s.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:L,focusSelectedItem:b}=a,E=s.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&h&&v&&L){const C=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),R=L.getBoundingClientRect();if(i.dir!=="rtl"){const V=R.left-j.left,te=M.left-V,oe=C.left-te,de=C.width+oe,ne=Math.max(de,j.width),Ze=window.innerWidth-ve,ke=Ao(te,[ve,Math.max(ve,Ze-ne)]);l.style.minWidth=de+"px",l.style.left=ke+"px"}else{const V=j.right-R.right,te=window.innerWidth-M.right-V,oe=window.innerWidth-C.right-te,de=C.width+oe,ne=Math.max(de,j.width),Ze=window.innerWidth-ve,ke=Ao(te,[ve,Math.max(ve,Ze-ne)]);l.style.minWidth=de+"px",l.style.right=ke+"px"}const T=g(),U=window.innerHeight-ve*2,$=h.scrollHeight,_=window.getComputedStyle(u),F=parseInt(_.borderTopWidth,10),k=parseInt(_.paddingTop,10),D=parseInt(_.borderBottomWidth,10),I=parseInt(_.paddingBottom,10),A=F+k+$+I+D,z=Math.min(v.offsetHeight*5,A),Z=window.getComputedStyle(h),G=parseInt(Z.paddingTop,10),H=parseInt(Z.paddingBottom,10),K=C.top+C.height/2-ve,O=U-K,ee=v.offsetHeight/2,B=v.offsetTop+ee,W=F+k+B,X=A-W;if(W<=K){const V=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-h.offsetTop-h.offsetHeight,oe=Math.max(O,ee+(V?H:0)+te+D),de=W+oe;l.style.height=de+"px"}else{const V=T.length>0&&v===T[0].ref.current;l.style.top="0px";const oe=Math.max(K,F+h.offsetTop+(V?G:0)+ee)+X;l.style.height=oe+"px",h.scrollTop=W-K+h.offsetTop}l.style.margin=`${ve}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=U+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[g,i.trigger,i.valueNode,l,u,h,v,L,i.dir,r]);me(()=>E(),[E]);const[x,w]=s.useState();me(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=s.useCallback(C=>{C&&p.current===!0&&(E(),b?.(),p.current=!1)},[E,b]);return y.jsx(Wd,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:y.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:y.jsx(se.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});yi.displayName=Fd;var $d="SelectPopperPosition",Dn=s.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ve,...i}=t,a=sn(n);return y.jsx(zu,{...a,...i,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dn.displayName=$d;var[Wd,qn]=ot(Ve,{}),In="SelectViewport",bi=s.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,i=Be(In,n),a=qn(In,n),l=ue(e,i.onViewportChange),c=s.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(rn.Slot,{scope:n,children:y.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ie(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g?.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-ve*2,h=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),L=Math.max(h,v);if(L<p){const b=L+m,E=Math.min(p,b),x=b-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=x>0?x:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bi.displayName=In;var wi="SelectGroup",[Hd,Vd]=ot(wi),Zd=s.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=An();return y.jsx(Hd,{scope:n,id:o,children:y.jsx(se.div,{role:"group","aria-labelledby":o,...r,ref:e})})});Zd.displayName=wi;var Li="SelectLabel",Gd=s.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=Vd(Li,n);return y.jsx(se.div,{id:o.id,...r,ref:e})});Gd.displayName=Li;var Jt="SelectItem",[Kd,xi]=ot(Jt),Ci=s.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...a}=t,l=_e(Jt,n),c=Be(Jt,n),u=l.value===r,[d,f]=s.useState(i??""),[g,m]=s.useState(!1),p=ue(e,b=>c.itemRefCallback?.(b,r,o)),h=An(),v=s.useRef("touch"),L=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(Kd,{scope:n,value:r,disabled:o,textId:h,isSelected:u,onItemTextChange:s.useCallback(b=>{f(E=>E||(b?.textContent??"").trim())},[]),children:y.jsx(rn.ItemSlot,{scope:n,value:r,disabled:o,textValue:d,children:y.jsx(se.div,{role:"option","aria-labelledby":h,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:p,onFocus:ie(a.onFocus,()=>m(!0)),onBlur:ie(a.onBlur,()=>m(!1)),onClick:ie(a.onClick,()=>{v.current!=="mouse"&&L()}),onPointerUp:ie(a.onPointerUp,()=>{v.current==="mouse"&&L()}),onPointerDown:ie(a.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:ie(a.onPointerMove,b=>{v.current=b.pointerType,o?c.onItemLeave?.():v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(a.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ie(a.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(jd.includes(b.key)&&L(),b.key===" "&&b.preventDefault())})})})})});Ci.displayName=Jt;var ct="SelectItemText",Ei=s.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...i}=t,a=_e(ct,n),l=Be(ct,n),c=xi(ct,n),u=Nd(ct,n),[d,f]=s.useState(null),g=ue(e,L=>f(L),c.onItemTextChange,L=>l.itemTextRefCallback?.(L,c.value,c.disabled)),m=d?.textContent,p=s.useMemo(()=>y.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=u;return me(()=>(h(p),()=>v(p)),[h,v,p]),y.jsxs(y.Fragment,{children:[y.jsx(se.span,{id:c.textId,...i,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Oe.createPortal(i.children,a.valueNode):null]})});Ei.displayName=ct;var Si="SelectItemIndicator",Mi=s.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return xi(Si,n).isSelected?y.jsx(se.span,{"aria-hidden":!0,...r,ref:e}):null});Mi.displayName=Si;var jn="SelectScrollUpButton",Pi=s.forwardRef((t,e)=>{const n=Be(jn,t.__scopeSelect),r=qn(jn,t.__scopeSelect),[o,i]=s.useState(!1),a=ue(e,r.onScrollButtonChange);return me(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?y.jsx(ki,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Pi.displayName=jn;var Rn="SelectScrollDownButton",Oi=s.forwardRef((t,e)=>{const n=Be(Rn,t.__scopeSelect),r=qn(Rn,t.__scopeSelect),[o,i]=s.useState(!1),a=ue(e,r.onScrollButtonChange);return me(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?y.jsx(ki,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Oi.displayName=Rn;var ki=s.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,i=Be("SelectScrollButton",n),a=s.useRef(null),l=on(n),c=s.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return s.useEffect(()=>()=>c(),[c]),me(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),y.jsx(se.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:ie(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ie(o.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ie(o.onPointerLeave,()=>{c()})})}),qd="SelectSeparator",Yd=s.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(se.div,{"aria-hidden":!0,...r,ref:e})});Yd.displayName=qd;var Tn="SelectArrow",Xd=s.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=sn(n),i=_e(Tn,n),a=Be(Tn,n);return i.open&&a.position==="popper"?y.jsx(Uu,{...o,...r,ref:e}):null});Xd.displayName=Tn;var Jd="SelectBubbleInput",Di=s.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=s.useRef(null),i=ue(r,o),a=$u(e);return s.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),y.jsx(se.select,{...n,style:{...Js,...n.style},ref:i,defaultValue:e})});Di.displayName=Jd;function Ii(t){return t===""||t===void 0}function ji(t){const e=Fe(t),n=s.useRef(""),r=s.useRef(0),o=s.useCallback(a=>{const l=n.current+a;e(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=s.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function Ri(t,e,n){const o=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Qd(t,Math.max(i,0));o.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function Qd(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ef=li,tf=ui,nf=fi,rf=pi,of=hi,sf=gi,af=bi,lf=Ci,cf=Ei,uf=Mi,df=Pi,ff=Oi;function pf({...t}){return y.jsx(ef,{"data-slot":"select",...t})}function hf({...t}){return y.jsx(nf,{"data-slot":"select-value",...t})}function gf({className:t,size:e="default",children:n,...r}){return y.jsxs(tf,{"data-slot":"select-trigger","data-size":e,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,y.jsx(rf,{asChild:!0,children:y.jsx(Ls,{className:"size-4 opacity-50"})})]})}function mf({className:t,children:e,position:n="popper",align:r="center",...o}){return y.jsx(of,{children:y.jsxs(sf,{"data-slot":"select-content",className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:r,...o,children:[y.jsx(yf,{}),y.jsx(af,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),y.jsx(bf,{})]})})}function vf({className:t,children:e,...n}){return y.jsxs(lf,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(uf,{children:y.jsx(Bl,{className:"size-4"})})}),y.jsx(cf,{children:e})]})}function yf({className:t,...e}){return y.jsx(df,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(Fl,{className:"size-4"})})}function bf({className:t,...e}){return y.jsx(ff,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(Ls,{className:"size-4"})})}const ce={success:t=>{console.log("",t)},error:t=>{console.error("",t)},info:t=>{console.info("",t)}},wf={width:"100%",height:"100%"},Lf=["drawing","geometry"],xf=[{name:"Akumadan",region:"Ashanti",region_code:"GHAH",latitude:6.529,longitude:-1.7373,main_crops:["tomato","maize","cassava"]},{name:"Tapa Abotoase",region:"Oti",region_code:"GHOT",latitude:7.4,longitude:.3,main_crops:["yam","plantain","cassava"]},{name:"Adugyama",region:"Ashanti",region_code:"GHAH",latitude:6.95,longitude:-1.9,main_crops:["cocoa","rice","plantain"]},{name:"Jasikan",region:"Oti",region_code:"GHOT",latitude:7.417,longitude:.4666,main_crops:["cocoa","oil palm"]},{name:"Bolgatanga",region:"Upper East",region_code:"GHUE",latitude:10.7856,longitude:-.8514,main_crops:["sorghum","millet","groundnut"]},{name:"Wa",region:"Upper West",region_code:"GHUW",latitude:10.0622,longitude:-2.5013,main_crops:["maize","cowpea","sesame"]},{name:"Tamale",region:"Northern",region_code:"GHNP",latitude:9.4329,longitude:-.8485,main_crops:["maize","millet","soybean"]},{name:"Sunyani",region:"Bono",region_code:"GHBO",latitude:7.339,longitude:-2.329,main_crops:["cassava","yam","plantain"]},{name:"Cape Coast",region:"Central",region_code:"GHCP",latitude:5.1057,longitude:-1.2466,main_crops:["cocoa","coconut","cassava"]},{name:"Koforidua",region:"Eastern",region_code:"GHEP",latitude:6.0833,longitude:-.25,main_crops:["oil palm","cocoa","plantain"]},{name:"Takoradi",region:"Western",region_code:"GHWP",latitude:4.9042,longitude:-1.7599,main_crops:["pineapple","cocoa","banana"]},{name:"Ho",region:"Volta",region_code:"GHTV",latitude:6.6119,longitude:.4703,main_crops:["rice","oil palm","cassava"]},{name:"Kumasi",region:"Ashanti",region_code:"GHAH",latitude:6.7001,longitude:-1.6308,main_crops:["plantain","yam","maize"]},{name:"Techiman",region:"Bono East",region_code:"GHBE",latitude:7.5833,longitude:-1.9333,main_crops:["yam","maize","cassava"]},{name:"Damongo",region:"Savannah",region_code:"GHSV",latitude:9.1,longitude:-1.8,main_crops:["sorghum","millet","cowpea"]},{name:"Nalerigu",region:"Northern East",region_code:"GHNE",latitude:9.95,longitude:-.8333,main_crops:["groundnut","yams","cassava"]},{name:"Ahamansu",region:"Oti",region_code:"GHOT",latitude:6.8,longitude:.6,main_crops:["cocoa","oil palm"]},{name:"Kenyasi",region:"Ahafo",region_code:"GHAF",latitude:6.7667,longitude:-2.1667,main_crops:["cocoa","plantain","cassava"]},{name:"Bawku",region:"Upper East",region_code:"GHUE",latitude:11.0598,longitude:-.4807,main_crops:["groundnut","sesame","millet"]},{name:"Akroso",region:"Central",region_code:"GHCP",latitude:5.175,longitude:-.868,main_crops:["cocoa","cassava","plantain"]}],Cf={"Northern Ghana (Savannah Zone)":["Cocoa","Maize","Sorghum","Millet","Groundnut (Peanut)","Yam","Rice","Cowpea","Soybean","Bambara beans","Cassava","Shea (Sheanut)","Sesame","Cotton","Sweet potato","Guinea corn"],"Southern Ghana (Forest & Coastal Zone)":["Cocoa","Oil palm","Plantain","Cassava","Cocoyam","Maize","Pineapple","Orange","Mango","Coconut","Banana","Papaya (Pawpaw)","Pepper (Chili)","Tomato","Garden eggs (Eggplant)"]},Ef=ae.memo(({field:t,onSelect:e})=>y.jsx(us,{position:{lat:t.center.lat(),lng:t.center.lng()},onClick:()=>e(t)},`marker-${t.id}`)),Sf=ae.memo(({field:t,isSelected:e,onSelect:n})=>y.jsx(ms,{paths:t.coordinates,options:{fillColor:e?"#ef4444":"#22c55e",fillOpacity:.3,strokeColor:e?"#dc2626":"#16a34a",strokeWeight:2,clickable:!0},onClick:()=>n(t)},t.id)),Mf=ae.memo(({mapContainerStyle:t,center:e,zoom:n,onLoad:r,mapTypeId:o,options:i,children:a})=>y.jsx(ta,{mapContainerStyle:t,center:e,zoom:n,onLoad:r,mapTypeId:o,options:i,children:a})),Pf=ae.memo(({onToolSelect:t,activeTool:e,onClearFields:n,onLocateMe:r,onEditFields:o,region:i})=>{const a=[{id:"draw",icon:Zl,label:"Draw",color:"emerald"},{id:"edit",icon:En,label:"Edit",color:"blue"},{id:"measure",icon:Kl,label:"Measure",color:"purple"},{id:"locate",icon:Wl,label:"Locate",color:"orange"},{id:"clear",icon:xs,label:"Clear",color:"red"}],l=c=>{if(c==="clear")return n();if(c==="locate")return r();if(c==="edit")return o();t(c)};return y.jsx(Fi,{className:"absolute top-4 right-4 z-50 border-0 bg-white/95 backdrop-blur-xl shadow-lg rounded-xl overflow-hidden",children:y.jsxs($i,{className:"p-2 sm:p-3",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-2 mb-3",children:[y.jsx("div",{className:"bg-emerald-100 p-1.5 rounded-lg",children:y.jsx(Jl,{className:"h-4 w-4 text-emerald-600"})}),y.jsx("div",{children:y.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Map Tools"})})]}),y.jsx("div",{className:"flex gap-1",children:a.map(({id:c,icon:u,label:d,color:f})=>{const g=e===c,m={emerald:g?"bg-emerald-500 text-white shadow-emerald-200":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100",blue:g?"bg-blue-500 text-white shadow-blue-200":"bg-blue-50 text-blue-600 hover:bg-blue-100",purple:g?"bg-purple-500 text-white shadow-purple-200":"bg-purple-50 text-purple-600 hover:bg-purple-100",orange:g?"bg-orange-500 text-white shadow-orange-200":"bg-orange-50 text-orange-600 hover:bg-orange-100",red:g?"bg-red-500 text-white shadow-red-200":"bg-red-50 text-red-600 hover:bg-red-100"};return y.jsx(De,{variant:"ghost",className:`h-8 sm:h-10 px-2 sm:px-3 rounded-lg transition-all duration-200 ${m[f]} ${g?"shadow-md scale-105":"hover:scale-105"}`,onClick:()=>l(c),title:d,children:y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[y.jsx(u,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),y.jsx("span",{className:"text-xs font-medium hidden md:inline",children:d})]})},c)})})]})})}),Of=ae.memo(({fields:t,onFieldSelect:e,onFieldUpdate:n,onFieldDelete:r,onSubmit:o,isSubmitting:i,selectedField:a,zone:l,region:c})=>{const[u,d]=s.useState(null),[f,g]=s.useState(!1),m=p=>{let h=0;for(let v=0;v<p.length;v++){const L=(v+1)%p.length;h+=p[v].lat()*p[L].lng(),h-=p[L].lat()*p[v].lng()}return Math.abs(h)/2*111e3*111e3/1e4};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`fixed top-0 left-0 h-full w-80 z-[1000] flex-col bg-white/95 backdrop-blur-xl shadow-2xl border-r border-gray-200/50 ${f?"flex":"hidden sm:flex"}`,children:[y.jsx("div",{className:"flex-shrink-0 bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:y.jsx(mr,{className:"h-6 w-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"font-bold text-white text-lg",children:"Field Dashboard"}),y.jsxs("p",{className:"text-emerald-100 text-sm",children:["Mapping in ",c]})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-white/20 rounded-full px-4 py-2",children:y.jsx("span",{className:"text-white font-bold text-lg",children:t.length})}),y.jsxs(De,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-white/20 text-white sm:hidden",onClick:()=>g(!1),title:"Close sidebar",children:[y.jsx("div",{className:"w-4 h-0.5 bg-white rotate-45"}),y.jsx("div",{className:"w-4 h-0.5 bg-white -rotate-45 -translate-y-0.5"})]})]})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50/30 p-6",children:t.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-12",children:[y.jsx("div",{className:"bg-emerald-100 rounded-full p-6 mb-6",children:y.jsx(mr,{className:"h-12 w-12 text-emerald-600"})}),y.jsx("h3",{className:"font-semibold text-gray-800 text-xl mb-2",children:"No Fields Yet"}),y.jsx("p",{className:"text-gray-500 text-center mb-8 max-w-xs",children:"Start mapping your farm by drawing your first field"}),y.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 w-full",children:[y.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm mb-2",children:[y.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),y.jsx("span",{className:"font-medium",children:"Quick Start"})]}),y.jsx("p",{className:"text-emerald-600 text-sm",children:'Click "Draw" in the toolbox to begin mapping'})]})]}):y.jsx("div",{className:"space-y-3",children:t.map(p=>y.jsx("div",{className:`bg-white rounded-lg border transition-all duration-200 hover:shadow-md ${a?.id===p.id?"border-emerald-500 bg-emerald-50/50":"border-gray-200 hover:border-gray-300"}`,children:y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),y.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:p.name})]}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx(De,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-emerald-100 hover:text-emerald-600 border border-gray-200 text-emerald-600",onClick:()=>d(u===p.id?null:p.id),title:"Edit field",children:y.jsx(En,{className:"h-4 w-4"})}),y.jsx(De,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600 border border-gray-200 text-red-600",onClick:()=>r(p.id),title:"Delete field",children:y.jsx(xs,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[y.jsxs("div",{className:"bg-emerald-50 rounded px-2 py-1",children:[y.jsx("div",{className:"text-xs text-emerald-600",children:"Area"}),y.jsxs("div",{className:"text-sm font-bold text-emerald-700",children:[m(p.coordinates).toFixed(1)," ha"]})]}),y.jsxs("div",{className:"bg-blue-50 rounded px-2 py-1",children:[y.jsx("div",{className:"text-xs text-blue-600",children:"Location"}),y.jsx("div",{className:"text-sm font-bold text-blue-700",children:p.center.lat().toFixed(3)})]})]}),u===p.id?y.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-lg p-3 mt-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(En,{className:"h-3 w-3 text-emerald-600"}),y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Edit Field"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsx(fn,{htmlFor:`name-${p.id}`,className:"text-xs font-medium text-gray-600",children:"Field Name"}),y.jsx(vr,{id:`name-${p.id}`,value:p.name,onChange:h=>n(p.id,{name:h.target.value}),placeholder:"Enter field name",className:"mt-1 h-8 text-sm text-gray-600 placeholder:text-gray-400"})]}),y.jsxs("div",{children:[y.jsx(fn,{htmlFor:`crop-${p.id}`,className:"text-xs font-medium text-gray-600",children:"Crop"}),y.jsxs(pf,{value:p.crop||"",onValueChange:h=>n(p.id,{crop:h}),children:[y.jsx(gf,{className:"mt-1 h-8 text-sm text-gray-600",children:y.jsx(hf,{placeholder:"Select or type crop",className:"text-gray-600"})}),y.jsx(mf,{className:"z-[1100]",position:"popper",sideOffset:4,children:Cf[l].map(h=>y.jsx(vf,{value:h,children:h},h))})]})]}),y.jsxs("div",{children:[y.jsx(fn,{htmlFor:`variety-${p.id}`,className:"text-xs font-medium text-gray-600",children:"Variety (Optional)"}),y.jsx(vr,{id:`variety-${p.id}`,value:p.variety||"",onChange:h=>n(p.id,{variety:h.target.value}),placeholder:"Enter variety (optional)",className:"mt-1 h-8 text-sm text-gray-600"})]})]}),y.jsxs("div",{className:"flex gap-1 pt-2",children:[y.jsx(De,{size:"sm",onClick:()=>d(null),className:"flex-1 bg-emerald-600 hover:bg-emerald-700 h-7 text-xs",children:"Save"}),y.jsx(De,{size:"sm",variant:"outline",onClick:()=>d(null),className:"flex-1 h-7 text-xs",children:"Cancel"})]})]}):y.jsx("div",{className:"mt-2",children:p.crop?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex gap-1",children:[y.jsx(gr,{className:"bg-emerald-100 text-emerald-700 text-xs px-2 py-1",children:p.crop}),p.variety&&y.jsx(gr,{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1",children:p.variety})]}),!p.variety&&y.jsx("p",{className:"text-xs text-gray-500",children:"No variety specified"})]}):y.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded p-2",children:y.jsx("p",{className:"text-xs text-amber-600",children:"Add crop information"})})})]})},p.id))})}),y.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 bg-white p-6",children:(()=>{const p=t.filter(v=>!v.crop),h=t.length>0&&p.length===0;return y.jsxs("div",{className:"space-y-3",children:[p.length>0&&y.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:y.jsxs("p",{className:"text-sm text-amber-700",children:[" ",p.length," field",p.length!==1?"s":""," need crop information"]})}),y.jsxs(De,{onClick:o,disabled:!h||i,className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 py-3 font-semibold text-white hover:from-emerald-700 hover:to-emerald-800 disabled:opacity-50 rounded-xl",children:[y.jsx(Yl,{className:"mr-2 h-4 w-4"}),i?"Submitting...":h?`Submit ${t.length} Field${t.length!==1?"s":""}`:"Add Crop Information"]})]})})()})]}),y.jsx("div",{className:"fixed bottom-4 left-4 z-[1000] sm:hidden",children:y.jsx(De,{onClick:()=>g(!f),className:"h-14 w-14 rounded-full bg-emerald-600 hover:bg-emerald-700 shadow-lg",children:y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("div",{className:`w-4 h-0.5 bg-white transition-transform duration-200 ${f?"rotate-45 translate-y-1":""}`}),y.jsx("div",{className:`w-4 h-0.5 bg-white transition-opacity duration-200 ${f?"opacity-0":""}`}),y.jsx("div",{className:`w-4 h-0.5 bg-white transition-transform duration-200 ${f?"-rotate-45 -translate-y-1":""}`})]})})})]})}),Af=({region:t="Tamale",zone:e="Northern Ghana (Savannah Zone)"})=>{const[n,r]=s.useState(""),[o,i]=s.useState([]),[a,l]=s.useState(),[c,u]=s.useState(!1),[d,f]=s.useState(null),[g,m]=s.useState(null),[p,h]=s.useState(null),{isLoaded:v}=pa({id:"google-map-script",googleMapsApiKey:"AIzaSyBY4HivGZ72M9sItpAWyquJjpjLatXcLwQ",libraries:Lf}),L=k=>{const D=k.toLowerCase(),I=xf.find(A=>A.name.toLowerCase()===D);return I?{lat:I.latitude,lng:I.longitude}:{lat:9.4329,lng:-.8485}},b=ae.useCallback(async k=>{try{const D=new google.maps.LatLngBounds;k.coordinates.forEach(N=>D.extend(N));const I=D.getCenter(),A=D.getNorthEast(),z=D.getSouthWest(),Z=A.lat()-z.lat(),G=A.lng()-z.lng(),H=Math.max(Z,G);let K=18;H>.01?K=16:H>.005?K=17:H>.002&&(K=18);const O=k.coordinates.map(N=>`${N.lat()},${N.lng()}`).join("|"),ee=`https://maps.googleapis.com/maps/api/staticmap?center=${I.lat()},${I.lng()}&zoom=${K}&size=400x400&maptype=satellite&path=color:0xff0000ff|weight:3|fillcolor:0x22c55e33|${O}&key=AIzaSyBY4HivGZ72M9sItpAWyquJjpjLatXcLwQ`,B=await fetch(ee);if(!B.ok)throw new Error("Failed to fetch static map image");const W=await B.blob(),X=`field_${k.name.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.png`;return new File([W],X,{type:"image/png"})}catch(D){return console.error("Failed to capture field snapshot:",D),null}},[]),E=ae.useCallback(async k=>{i(I=>[...I,k]);const D=await b(k);D&&i(I=>I.map(A=>A.id===k.id?{...A,image:D}:A)),ce.success(`Field "${k.name}" created successfully`)},[b]),x=ae.useCallback(k=>{f(k);const D=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:!1,polygonOptions:{fillColor:"#22c55e",fillOpacity:.3,strokeColor:"#16a34a",strokeWeight:2,clickable:!0,editable:!0,draggable:!0}});D.setMap(k),m(D),google.maps.event.addListener(D,"polygoncomplete",I=>{const A=I.getPath(),z=new google.maps.LatLngBounds;A.getArray().forEach(H=>z.extend(H));const Z=z.getCenter(),G={id:Date.now().toString(),name:`Field ${Date.now()}`,coordinates:A.getArray(),center:Z,area:0,region:t,country:"Ghana",createdAt:new Date};E(G),D.setDrawingMode(null)})},[t,E]),w=ae.useCallback((k,D)=>{i(I=>I.map(A=>A.id===k?{...A,...D}:A))},[]),S=ae.useCallback(k=>{i(D=>D.filter(I=>I.id!==k)),a?.id===k&&l(void 0),ce.success("Field deleted successfully")},[a?.id]),C=ae.useCallback(k=>{l(k),d&&(d.setCenter(k.center),d.setZoom(15))},[d]),j=ae.useCallback(()=>{i([]),l(void 0),ce.success("All fields cleared")},[]),M=ae.useCallback(()=>{navigator.geolocation?(ce.info("Getting your precise location..."),navigator.geolocation.getCurrentPosition(k=>{const{latitude:D,longitude:I,accuracy:A}=k.coords;if(d){const z=new google.maps.LatLng(D,I);A>50&&ce.error(`GPS accuracy is ${Math.round(A)}m. Consider moving to an open area.`),h({lat:D,lng:I}),d.setCenter(z),d.setZoom(18);const Z=new google.maps.Marker;Z.setPosition(z),Z.setMap(d),Z.setTitle(`Your Location (accuracy: ${Math.round(A)}m)`),Z.setIcon({path:google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#4285f4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3});const G=new google.maps.Circle({strokeColor:"#4285f4",strokeOpacity:.8,strokeWeight:2,fillColor:"#4285f4",fillOpacity:.2,map:d,center:z,radius:A});setTimeout(()=>{Z.setMap(null),G.setMap(null)},8e3)}ce.success(`Location: ${D.toFixed(6)}, ${I.toFixed(6)} (${Math.round(A)}m)`)},k=>{console.error("Geolocation error:",k);let D="Unable to get your location. ";switch(k.code){case k.PERMISSION_DENIED:D+="Please allow location access in your browser settings.";break;case k.POSITION_UNAVAILABLE:D+="GPS signal not available. Try moving to an open area.";break;case k.TIMEOUT:D+="Location request timed out. Please try again.";break;default:D+="Unknown error occurred.";break}ce.error(D)},{enableHighAccuracy:!0,timeout:25e3,maximumAge:0})):ce.error("Geolocation is not supported by this browser")},[d]);s.useEffect(()=>{if(v&&d){const k=L(t);d.setCenter(k),d.setZoom(15),ce.info(`Map focused on ${t} region`)}},[v,d,t]);const R=ae.useCallback(()=>{r("edit"),ce.info("Edit mode activated - click on fields to modify")},[]),T=ae.useCallback(k=>{if(r(k),g)switch(k){case"draw":g.setDrawingMode(google.maps.drawing.OverlayType.POLYGON);break;case"measure":break;default:g.setDrawingMode(null);break}},[g]),U=ae.useCallback(async()=>{if(o.length===0){ce.error("Please draw at least one field before submitting");return}const k=o.filter(D=>!D.crop);if(k.length>0){ce.error(`Please add crop information for ${k.length} field${k.length!==1?"s":""}`);return}u(!0);try{const D=new FormData;D.append("user_location",JSON.stringify(p)),D.append("region",t),D.append("zone",e),o.forEach((z,Z)=>{D.append(`fields[${Z}][name]`,z.name),D.append(`fields[${Z}][coordinates]`,JSON.stringify(z.coordinates.map(G=>[G.lat(),G.lng()]))),D.append(`fields[${Z}][center]`,JSON.stringify([z.center.lat(),z.center.lng()])),D.append(`fields[${Z}][region]`,z.region),D.append(`fields[${Z}][country]`,z.country),D.append(`fields[${Z}][crop]`,z.crop||""),D.append(`fields[${Z}][variety]`,z.variety||""),z.image&&D.append(`fields[${Z}][image]`,z.image)}),console.log("Submitting fields with FormData");const A=(await Ai.post("/fields",D,{headers:{"Content-Type":"multipart/form-data"}})).data;A.success?(ce.success(`${o.length} field(s) saved successfully`),console.log("Fields stored in database:",A.data),i([]),l(void 0),Ni.visit(`/prediction/${A.data.unique_submission_key}`)):ce.error(A.message||"Failed to save fields")}catch(D){console.error("Submit error:",D),ce.error("Failed to submit fields")}finally{u(!1)}},[o]),$=ae.useMemo(()=>L(t),[t]),_=ae.useMemo(()=>({mapTypeId:"satellite",disableDefaultUI:!0,zoomControl:!0,scaleControl:!0,fullscreenControl:!1,streetViewControl:!1,rotateControl:!1,tilt:0,gestureHandling:"greedy",styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"simplified"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]}]}),[]),F=ae.useMemo(()=>$,[$]);return v?y.jsxs("div",{className:"relative h-screen",children:[y.jsxs(Mf,{mapContainerStyle:wf,center:F,zoom:15,onLoad:x,mapTypeId:google.maps.MapTypeId.SATELLITE,options:_,children:[o.map(k=>y.jsx(Ef,{field:k,onSelect:C},`marker-${k.id}`)),o.map(k=>y.jsx(Sf,{field:k,isSelected:a?.id===k.id,onSelect:C},k.id))]}),y.jsx(Pf,{onToolSelect:T,activeTool:n,onClearFields:j,onLocateMe:M,onEditFields:R,region:t}),y.jsx(Of,{fields:o,onFieldSelect:C,onFieldUpdate:w,onFieldDelete:S,onSubmit:U,isSubmitting:c,selectedField:a,zone:e,region:t})]}):y.jsx("div",{className:"flex h-screen items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-primary"}),y.jsx("p",{className:"text-muted-foreground",children:"Loading Google Maps..."})]})})};export{Af as default};
